System.register(["./index-legacy-DxcHdJs-.js","./obj-legacy-BKgCPAKc.js","./index-legacy-B7b17WXA.js"],function(e,r){"use strict";var n,t,o,a,i,p,c,l,s,m,u,d,h,g,v,y,_,w,f,b,j,x,$,k,O,S,T,E,I,L,C,P,D,U,X,z,A,F;return{setters:[e=>{n=e.P,t=e.cN,o=e.a9,a=e.ak,i=e.E,p=e.aG,c=e.av,l=e.L,s=e.q,m=e.aX,u=e.cO,d=e.aC,h=e.U,g=e.aD,v=e.cF,y=e.S,_=e.cM,w=e.a0,f=e.cP,b=e.k,j=e.ap,x=e.ac,$=e.cQ,k=e.ah,O=e.aZ,S=e.aK,T=e.aL,E=e.cE,I=e.cR,L=e.C,C=e.ag,P=e.aH,D=e.bx,U=e.a5,X=e.aF,z=e.aa},e=>{A=e.O},e=>{F=e.l}],execute:function(){const M=e("O",()=>{const e=s(),r=n(()=>t(o.obj.name)),{currentObjLink:_}=a();return i(y,{get when(){return r().length},get children(){return i(p,{get children(){return[i(c,{as:l,colorScheme:"success",get rightIcon(){return i(m,{as:u})},get children(){return e("home.preview.open_with")}}),i(d,{get children(){return i(h,{get each(){return r()},children:e=>i(g,{as:"a",target:"_blank",get href(){return v(e.value,{raw_url:o.raw_url,name:o.obj.name,d_url:_(!0)})},get children(){return e.key}})})}})]}})}})}),V=e=>{const{currentObjLink:r}=a(),t=n(()=>v(e.scheme,{raw_url:o.raw_url,name:o.obj.name,d_url:r(!0),ts:!0}));return i(f,{w:"$full",h:"70vh",get children(){return[i(_.iframe,{w:"$full",h:"$full",get src(){return t()}}),i(m,{pos:"absolute",right:"$2",bottom:"$10","aria-label":"Open in new tab",as:F,onClick:()=>{window.open(t(),"_blank")},cursor:"pointer",rounded:"$md",get bgColor(){return w()},p:"$1",boxSize:"$7"})]}})},G=[{name:"HTML网页",exts:["html"],component:x(()=>k(()=>r.import("./html-legacy-CNG4LpYB.js"),void 0)),prior:!0},{name:"阿里网盘视频",type:A.VIDEO,provider:/^Aliyundrive(Open)?$/,component:x(()=>k(()=>r.import("./aliyun_video-legacy-Bb_NQieJ.js"),void 0)),prior:!0},{name:"阅读文档",type:A.TEXT,component:x(()=>k(()=>r.import("./markdown-legacy-BZb0IygO.js"),void 0)),prior:!0},{name:"阅读文档自动换行",type:A.TEXT,component:x(()=>k(()=>r.import("./markdown_with_word_wrap-legacy-CT1ZQye4.js"),void 0)),prior:!0},{name:"URL网址",exts:["url"],component:x(()=>k(()=>r.import("./url-legacy-BqaGF2Lv.js"),void 0)),prior:!0},{name:"查看图片",type:A.IMAGE,component:x(()=>k(()=>r.import("./image-legacy-Dr4M079s.js"),void 0)),prior:!0},{name:"播放视频",type:A.VIDEO,component:x(()=>k(()=>r.import("./video-legacy-HhgDZ87X.js"),void 0)),prior:!0},{name:"音乐音频",type:A.AUDIO,component:x(()=>k(()=>r.import("./audio-legacy-C6474cF4.js"),void 0)),prior:!0},{name:"IPA安装及下载",exts:["ipa","tipa"],component:x(()=>k(()=>r.import("./ipa-legacy-CY5BOQfa.js"),void 0)),prior:!0},{name:"PLIST",exts:["plist"],component:x(()=>k(()=>r.import("./plist-legacy-gYsKidi4.js"),void 0)),prior:!0},{name:"PDF预览",exts:["pdf"],component:x(()=>k(()=>r.import("./pdf-legacy-CiIqTIrT.js"),void 0)),prior:!0},{name:"录屏",exts:["cast"],component:x(()=>k(()=>r.import("./asciinema-legacy-CrX4IQav.js"),void 0)),prior:!0},{name:"压缩文档",exts:e=>{const r=O.findIndex(e=>"read_archives"===e),{isShare:n}=b();return!(!n()&&!S.can(T(),r))&&!(n()&&!j("share_archive_preview"))&&E(e)},component:x(()=>k(()=>r.import("./archive-legacy-D82pqVao.js"),void 0)),prior:()=>{const{isShare:e}=b();return!e()&&j("preview_archives_by_default")&&!j("preview_download_by_default")||e()&&j("share_preview_archives_by_default")&&!j("share_preview_download_by_default")}}],H=e=>{const{searchParams:n,isShare:t}=b(),o=A[n.type?.toUpperCase()],a=[],p=[],c=!t()&&j("preview_download_by_default")||t()&&j("share_preview_download_by_default");t()&&!j("share_preview")||G.forEach(r=>{var n,t,i;if((!r.provider||r.provider.test(e.provider))&&(r.type===e.type||o&&r.type===o||(t=r.exts,i=e.name,void 0!==t&&("*"===t||("function"==typeof t?t(i):t.includes(I(i).toLowerCase())))))){const e={name:r.name,component:r.component};!c&&("boolean"==typeof(n=r.prior)?n:n())?a.push(e):p.push(e)}});const l=$(e.name);a.push(...l.map(e=>{return{name:e.key,component:(r=e.value,()=>i(V,{scheme:r}))};var r}));const s={name:"下载保存",component:x(()=>k(()=>r.import("./download-legacy-vF42efc_.js"),void 0))},m=e.type===A.TEXT&&e.size>=1048576,u=0===a.length&&0===p.length,d=e.size<1048576;if(m)a.unshift(s);else if(u&&d){if(a.push(s),!t()||j("share_preview")){const e=G.filter(e=>["阅读文档","阅读文档自动换行"].includes(e.name)).map(e=>({name:e.name,component:e.component}));a.push(...e)}}else a.push(s);return a.concat(p)},N=x(()=>k(()=>r.import("./download-legacy-vF42efc_.js"),void 0)),R=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=n(()=>H({...o.obj,provider:o.provider})),[r,t]=L(e()[0]);return i(y,{get when(){return e().length>1},get fallback(){return i(N,{openWith:!0})},get children(){return i(C,{w:"$full",spacing:"$2",get children(){return[i(P,{w:"$full",spacing:"$2",get children(){return[i(D,{alwaysShowBorder:!0,get value(){return r().name},onChange:r=>{t(e().find(e=>e.name===r))},get options(){return e().map(e=>({value:e.name}))}}),i(M,{})]}}),i(U,{get fallback(){return i(z,{})},get children(){return i(X,{get component(){return r().component}})}})]}})}})}},Symbol.toStringTag,{value:"Module"}));e("F",R)}}});
