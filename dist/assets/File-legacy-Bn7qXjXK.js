System.register(["./index-legacy-yN-z1lAK.js","./obj-legacy-BKgCPAKc.js","./index-legacy-WW2-yCg0.js"],function(e,r){"use strict";var n,t,o,a,i,p,c,l,s,m,u,d,h,g,v,y,_,w,f,b,j,x,$,k,O,S,E,T,I,L,P,C,U,X,z,A,D,F;return{setters:[e=>{n=e.P,t=e.cN,o=e.a5,a=e.am,i=e.E,p=e.aI,c=e.ax,l=e.L,s=e.q,m=e.aX,u=e.cO,d=e.aE,h=e.U,g=e.aF,v=e.cF,y=e.S,_=e.cM,w=e.a0,f=e.cP,b=e.k,j=e.ar,x=e.af,$=e.cQ,k=e.aj,O=e.aZ,S=e.a6,E=e.a7,T=e.cE,I=e.cR,L=e.C,P=e.ai,C=e.aJ,U=e.bx,X=e.a8,z=e.aH,A=e.ad},e=>{D=e.O},e=>{F=e.l}],execute:function(){const M=e("O",()=>{const e=s(),r=n(()=>t(o.obj.name)),{currentObjLink:_}=a();return i(y,{get when(){return r().length},get children(){return i(p,{get children(){return[i(c,{as:l,colorScheme:"success",get rightIcon(){return i(m,{as:u})},get children(){return e("home.preview.open_with")}}),i(d,{get children(){return i(h,{get each(){return r()},children:e=>i(g,{as:"a",target:"_blank",get href(){return v(e.value,{raw_url:o.raw_url,name:o.obj.name,d_url:_(!0)})},get children(){return e.key}})})}})]}})}})}),V=e=>{const{currentObjLink:r}=a(),t=n(()=>v(e.scheme,{raw_url:o.raw_url,name:o.obj.name,d_url:r(!0),ts:!0}));return i(f,{w:"$full",h:"70vh",get children(){return[i(_.iframe,{w:"$full",h:"$full",get src(){return t()}}),i(m,{pos:"absolute",right:"$2",bottom:"$10","aria-label":"Open in new tab",as:F,onClick:()=>{window.open(t(),"_blank")},cursor:"pointer",rounded:"$md",get bgColor(){return w()},p:"$1",boxSize:"$7"})]}})},H=[{name:"HTML网页",exts:["html"],component:x(()=>k(()=>r.import("./html-legacy-BB46xp3U.js"),void 0)),prior:!0},{name:"阿里网盘视频",type:D.VIDEO,provider:/^Aliyundrive(Open)?$/,component:x(()=>k(()=>r.import("./aliyun_video-legacy-CuGxWtQh.js"),void 0)),prior:!0},{name:"阅读文档",type:D.TEXT,component:x(()=>k(()=>r.import("./markdown-legacy-o7BEkfA1.js"),void 0)),prior:!0},{name:"阅读文档自动换行",type:D.TEXT,component:x(()=>k(()=>r.import("./markdown_with_word_wrap-legacy-DDxWk0hX.js"),void 0)),prior:!0},{name:"URL网址",exts:["url"],component:x(()=>k(()=>r.import("./url-legacy-BEc_oRLg.js"),void 0)),prior:!0},{name:"查看图片",type:D.IMAGE,component:x(()=>k(()=>r.import("./image-legacy-CEPqETIN.js"),void 0)),prior:!0},{name:"播放视频",type:D.VIDEO,component:x(()=>k(()=>r.import("./video-legacy-D_swOIK4.js"),void 0)),prior:!0},{name:"音乐音频",type:D.AUDIO,component:x(()=>k(()=>r.import("./audio-legacy-BwAOCaTi.js"),void 0)),prior:!0},{name:"IPA安装及下载",exts:["ipa","tipa"],component:x(()=>k(()=>r.import("./ipa-legacy-DDg32TBm.js"),void 0)),prior:!0},{name:"PLIST",exts:["plist"],component:x(()=>k(()=>r.import("./plist-legacy-DBT2_66a.js"),void 0)),prior:!0},{name:"PDF预览",exts:["pdf"],component:x(()=>k(()=>r.import("./pdf-legacy-CsbiR5Qx.js"),void 0)),prior:!0},{name:"录屏",exts:["cast"],component:x(()=>k(()=>r.import("./asciinema-legacy-BYG8y5xp.js"),void 0)),prior:!0},{name:"压缩文档",exts:e=>{const r=O.findIndex(e=>"read_archives"===e),{isShare:n}=b();return!(!n()&&!S.can(E(),r))&&!(n()&&!j("share_archive_preview"))&&T(e)},component:x(()=>k(()=>r.import("./archive-legacy-BAZ3L4Od.js"),void 0)),prior:()=>{const{isShare:e}=b();return!e()&&j("preview_archives_by_default")&&!j("preview_download_by_default")||e()&&j("share_preview_archives_by_default")&&!j("share_preview_download_by_default")}}],N=e=>{const{searchParams:n,isShare:t}=b(),o=D[n.type?.toUpperCase()],a=[],p=[],c=!t()&&j("preview_download_by_default")||t()&&j("share_preview_download_by_default");t()&&!j("share_preview")||H.forEach(r=>{var n,t,i;if((!r.provider||r.provider.test(e.provider))&&(r.type===e.type||o&&r.type===o||(t=r.exts,i=e.name,void 0!==t&&("*"===t||("function"==typeof t?t(i):t.includes(I(i).toLowerCase())))))){const e={name:r.name,component:r.component};!c&&("boolean"==typeof(n=r.prior)?n:n())?a.push(e):p.push(e)}});const l=$(e.name);a.push(...l.map(e=>{return{name:e.key,component:(r=e.value,()=>i(V,{scheme:r}))};var r}));const s={name:"下载保存",component:x(()=>k(()=>r.import("./download-legacy-BYHfDGls.js"),void 0))},m=e.type===D.TEXT&&e.size>=1048576,u=0===a.length&&0===p.length,d=e.size<1048576;if(m)a.unshift(s);else if(u&&d){if(a.push(s),!t()||j("share_preview")){const e=H.filter(e=>["阅读文档","阅读文档自动换行"].includes(e.name)).map(e=>({name:e.name,component:e.component}));a.push(...e)}}else a.push(s);return a.concat(p)},R=x(()=>k(()=>r.import("./download-legacy-BYHfDGls.js"),void 0)),W=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=n(()=>N({...o.obj,provider:o.provider})),[r,t]=L(e()[0]);return i(y,{get when(){return e().length>1},get fallback(){return i(R,{openWith:!0})},get children(){return i(P,{w:"$full",spacing:"$2",get children(){return[i(C,{w:"$full",spacing:"$2",get children(){return[i(U,{alwaysShowBorder:!0,get value(){return r().name},onChange:r=>{t(e().find(e=>e.name===r))},get options(){return e().map(e=>({value:e.name}))}}),i(M,{})]}}),i(X,{get fallback(){return i(A,{})},get children(){return i(z,{get component(){return r().component}})}})]}})}})}},Symbol.toStringTag,{value:"Module"}));e("F",W)}}});
