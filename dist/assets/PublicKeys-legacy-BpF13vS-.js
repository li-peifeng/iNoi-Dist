System.register(["./index-legacy-yN-z1lAK.js"],function(e,t){"use strict";var r,n,s,i,l,g,u,d,a,c,o,h,w,$,p,y,m,k,x,f,S,_,b,A,v,I,z,C,M,O;return{setters:[e=>{r=e.C,n=e.bd,s=e.bv,i=e.E,l=e.aJ,g=e.c4,u=e.ah,d=e.c3,a=e.d0,c=e.L,o=e.q,h=e.by,w=e.x,$=e.S,p=e.bZ,y=e.a$,m=e.N,k=e.M,x=e.F,f=e.bz,S=e.G,_=e.H,b=e.bV,A=e.bI,v=e.I,I=e.T,z=e.K,C=e.ai,M=e.ac,O=e.R}],execute:function(){const t=[{name:"title",textAlign:"left",w:"calc(45% - 110px)"},{name:"fingerprint",textAlign:"left",w:"calc(55% - 110px)"},{name:"last_used",textAlign:"right",w:"140px"},{name:"operation",textAlign:"right",w:"80px"}],T=e=>{const p=o(),[y,m]=r(!1),[k,x]=e.isMine?n(()=>s.post(`/me/sshkey/delete?id=${e.id}`)):n(()=>s.post(`/admin/user/sshkey/delete?uid=${e.userId}&id=${e.id}`)),f={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};return i($,{get when(){return!y()},get children(){return i(l,{w:"$full",p:"$2",get children(){return[i(g,{get w(){return t[0].w},size:"sm",get textAlign(){return t[0].textAlign},css:f,get children(){return e.title}}),i(u,{get w(){return t[1].w},size:"sm",get textAlign(){return t[1].textAlign},css:f,get children(){return e.fingerprint}}),i(u,{get w(){return t[2].w},size:"sm",get textAlign(){return t[2].textAlign},css:f,get children(){return`${(t=new Date(e.last_used_time)).getFullYear().toString()}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`;var t}}),i(d,{get w(){return t[3].w},gap:"$1",get children(){return[i(a,{}),i(c,{size:"sm",colorScheme:"danger",get loading(){return k()},onClick:async()=>{const e=await x();h(e,()=>{w.success(p("global.delete_success")),m(!0)})},get children(){return p("global.delete")}})]}})]}})}})};e("P",e=>{const w=o(),[D,F]=r([]),[H,j]=e.isMine?n(()=>s.get("/me/sshkey/list")):n(()=>s.get(`/admin/user/sshkey/list?uid=${e.userId}`)),[q,B]=p({title:"",key:""}),[E,G]=n(()=>s.post("/me/sshkey/add",q)),{isOpen:J,onOpen:K,onClose:L}=y(),N=async()=>{const e=await j();h(e,e=>{F(e.content)})};N();const P=e=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:e.textAlign});return i(C,{w:"$full",alignItems:"start",spacing:"$2",get children(){return[i(d,{w:"$full",get children(){return[i(g,{get children(){return w("users.ssh_keys.heading")}}),i($,{get when(){return e.isMine},get children(){return[i(a,{}),i(c,{get loading(){return H()},onClick:K,get children(){return w("global.add")}}),i(m,{get opened(){return J()},onClose:L,scrollBehavior:"inside",get children(){return[i(k,{}),i(x,{get children(){return[i(f,{}),i(S,{get children(){return w("users.ssh_keys.add_heading")}}),i(_,{get children(){return[i(b,{mb:"$4",get children(){return[i(A,{for:"add_title",get children(){return w("users.ssh_keys.title")}}),i(v,{id:"add_title",get value(){return q.title},onInput:e=>B("title",e.currentTarget.value)})]}}),i(b,{get children(){return[i(A,{for:"add_key",get children(){return w("users.ssh_keys.key")}}),i(I,{id:"add_key",get value(){return q.key},onInput:e=>B("key",e.currentTarget.value)})]}})]}}),i(z,{get children(){return i(c,{get loading(){return E()},onClick:async()=>{const e=await G();h(e,()=>{B("title",""),B("key",""),N(),L()})},get children(){return w("global.add")}})}})]}})]}})]}})]}}),i(C,{w:"$full",overflowX:"auto",shadow:"$md",rounded:"$lg",spacing:"$1",p:"$1",get children(){return[i(l,{class:"title",w:"$full",p:"$2",get children(){return[i(u,O({get w(){return t[0].w}},()=>P(t[0]),{get children(){return w(`users.ssh_keys.${t[0].name}`)}})),i(u,O({get w(){return t[1].w}},()=>P(t[1]),{get children(){return w(`users.ssh_keys.${t[1].name}`)}})),i(u,O({get w(){return t[2].w}},()=>P(t[2]),{get children(){return w(`users.ssh_keys.${t[2].name}`)}})),i(u,O({get w(){return t[3].w}},()=>P(t[3]),{get children(){return w(`users.ssh_keys.${t[3].name}`)}}))]}}),M(()=>D().map(t=>i(T,O(e,t))))]}})]}})})}}});
