import{e4 as S,P as $,e5 as E,E as O,L as j,q as T,an as W}from"./index-Bf1X_rNU.js";import{F as C}from"./File-BJEli5qz.js";import"./icon-BohmlgEh.js";import"./Layout-D3sKFxYo.js";import"./index-Bxo9sCXl.js";import"./index-OITmi6HL.js";import"./FolderTree-BQkX2dFt.js";import"./index-ByUPFKjE.js";import"./index-BjIF2Qqq.js";import"./share-BYkYhSDT.js";import"./index-B10EksiI.js";var b,I;function N(){if(I)return b;I=1;const{hasOwnProperty:y}=Object.prototype,p=(e,t={})=>{typeof t=="string"&&(t={section:t}),t.align=t.align===!0,t.newline=t.newline===!0,t.sort=t.sort===!0,t.whitespace=t.whitespace===!0||t.align===!0,t.platform=t.platform||typeof process<"u"&&process.platform,t.bracketedArray=t.bracketedArray!==!1;const i=t.platform==="win32"?"\r\n":"\n",n=t.whitespace?" = ":"=",c=[],o=t.sort?Object.keys(e).sort():Object.keys(e);let _=0;t.align&&(_=u(o.filter(r=>e[r]===null||Array.isArray(e[r])||typeof e[r]!="object").map(r=>Array.isArray(e[r])?"".concat(r,"[]"):r).concat([""]).reduce((r,s)=>u(r).length>=u(s).length?r:s)).length);let a="";const w=t.bracketedArray?"[]":"";for(const r of o){const s=e[r];if(s&&Array.isArray(s))for(const l of s)a+=u("".concat(r).concat(w)).padEnd(_," ")+n+u(l)+i;else s&&typeof s=="object"?c.push(r):a+=u(r).padEnd(_," ")+n+u(s)+i}t.section&&a.length&&(a="["+u(t.section)+"]"+(t.newline?i+i:i)+a);for(const r of c){const s=g(r,".").join("\\."),l=(t.section?t.section+".":"")+s,h=p(e[r],{...t,section:l});a.length&&h.length&&(a+=i),a+=h}return a};function g(e,t){var i=0,n=0,c=0,o=[];do if(c=e.indexOf(t,i),c!==-1){if(i=c+t.length,c>0&&e[c-1]==="\\")continue;o.push(e.slice(n,c)),n=c+t.length}while(c!==-1);return o.push(e.slice(n)),o}const m=(e,t={})=>{t.bracketedArray=t.bracketedArray!==!1;const i=Object.create(null);let n=i,c=null;const o=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,_=e.split(/[\r\n]+/g),a={};for(const r of _){if(!r||r.match(/^\s*[;#]/)||r.match(/^\s*$/))continue;const s=r.match(o);if(!s)continue;if(s[1]!==void 0){if(c=d(s[1]),c==="__proto__"){n=Object.create(null);continue}n=i[c]=i[c]||Object.create(null);continue}const l=d(s[2]);let h;t.bracketedArray?h=l.length>2&&l.slice(-2)==="[]":(a[l]=((a==null?void 0:a[l])||0)+1,h=a[l]>1);const f=h&&l.endsWith("[]")?l.slice(0,-2):l;if(f==="__proto__")continue;const k=s[3]?d(s[4]):!0,x=k==="true"||k==="false"||k==="null"?JSON.parse(k):k;h&&(y.call(n,f)?Array.isArray(n[f])||(n[f]=[n[f]]):n[f]=[]),Array.isArray(n[f])?n[f].push(x):n[f]=x}const w=[];for(const r of Object.keys(i)){if(!y.call(i,r)||typeof i[r]!="object"||Array.isArray(i[r]))continue;const s=g(r,".");n=i;const l=s.pop(),h=l.replace(/\\\./g,".");for(const f of s)f!=="__proto__"&&((!y.call(n,f)||typeof n[f]!="object")&&(n[f]=Object.create(null)),n=n[f]);n===i&&h===l||(n[h]=i[r],w.push(r))}for(const r of w)delete i[r];return i},A=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"),u=e=>typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&A(e)||e!==e.trim()?JSON.stringify(e):e.split(";").join("\\;").split("#").join("\\#"),d=e=>{if(e=(e||"").trim(),A(e)){e.charAt(0)==="'"&&(e=e.slice(1,-1));try{e=JSON.parse(e)}catch(t){}}else{let t=!1,i="";for(let n=0,c=e.length;n<c;n++){const o=e.charAt(n);if(t)"\\;#".indexOf(o)!==-1?i+=o:i+="\\"+o,t=!1;else{if(";#".indexOf(o)!==-1)break;o==="\\"?t=!0:i+=o}}return t&&(i+="\\"),i.trim()}return e};return b={parse:m,decode:m,stringify:p,encode:p,safe:u,unsafe:d},b}var q=N();function D(){const[y]=S(),{copy:p}=useUtil(),g=$(()=>{var A,u;try{const d=((A=y())==null?void 0:A.content)||"",{text:e}=E(d);return((u=recordKeysToLowerCase(q.parse(e()||"")).internetshortcut)==null?void 0:u.url)||"#"}catch(d){return console.error("Error parsing INI content:",d),"#"}}),m=T();return O(W,{get loading(){return y.loading},get children(){return O(C,{get children(){return[O(j,{colorScheme:"accent",onClick:()=>p(g()),get children(){return m("home.toolbar.copy_link")}}),O(j,{as:"a",get href(){return g()},target:"_blank",rel:"noopener noreferrer",get children(){return m("home.preview.open_in_new_window")}})]}})}})}export{D as default};
