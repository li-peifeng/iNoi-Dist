import{k as C,bc as c,bt as a,cs as _,db as $,C as L,E as t,dc as I,U as R,bw as o,x as g,q as x,a3 as T,L as l,ag as q}from"./index-E39u59da.js";import{f as B}from"./index-R7ju7gxF.js";import{I as D}from"./SettingItem-DM8R43Kt.js";import{R as E}from"./ResponsiveGrid-CROuWyg4.js";import"./index-DPa4Zhw6.js";import"./index-Cpua9uIA.js";import"./index-BOZaBiKF.js";import"./item_type-CV3e5W3l.js";const z=d=>{const s=x(),{pathname:S}=C();B("manage.sidemenu.".concat(S().split("/").pop()));const[u,k]=c(()=>a.get("/admin/setting/list?group=".concat(d.group))),[p,r]=_([]),i=async()=>{const e=await k();o(e,r)};i();const[y,b]=c(()=>a.post("/admin/setting/save",$(p))),[m,v]=c(()=>a.post("/admin/setting/default?group=".concat(d.group))),[f,h]=L(!1);return t(q,{w:"$full",alignItems:"start",spacing:"$2",get children(){return[t(E,{get children(){return t(I,{each:p,children:e=>t(D,R(e,{onChange:n=>{r(w=>e().key===w.key,"value",n)},onDelete:async()=>{h(!0);const n=await a.post("/admin/setting/delete?key=".concat(e().key));h(!1),o(n,()=>{g.success(s("global.delete_success")),i()})}}))})}}),t(T,{spacing:"$2",get children(){return[t(l,{colorScheme:"accent",onClick:i,get loading(){return u()||f()||m()},get children(){return s("global.refresh")}}),t(l,{get loading(){return y()},onClick:async()=>{const e=await b();o(e,()=>g.success(s("global.save_success")))},get children(){return s("global.save")}}),t(l,{colorScheme:"warning",get loading(){return u()||f()||m()},onClick:async()=>{const e=await v();o(e,n=>{g.info(s("settings.load_default_setting_success")),r(n)})},get children(){return s("settings.load_default_setting")}})]}})]}})};export{z as default};
