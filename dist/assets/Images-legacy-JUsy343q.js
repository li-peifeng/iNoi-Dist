System.register(["./index-legacy-DxcHdJs-.js","./style-legacy-CEO3oTK_.js","./ImageWithError-legacy-viEql3bw.js","./obj-legacy-BKgCPAKc.js","./icon-legacy-CyTmQ-Cr.js","./helper-legacy-Bn-nMLsE.js","./GridItem-legacy-DkcvSP28.js","./Layout-legacy-B-950SB4.js","./index-legacy-DIpW3P-y.js","./index-legacy-B7b17WXA.js","./FolderTree-legacy-BmYROFSI.js","./index-legacy-EjFySvHB.js","./index-legacy-5vKFgB37.js","./share-legacy-DVGAOZte.js","./icons-legacy-CxsxHJbW.js","./index-legacy-DV50DUhv.js"],function(e,t){"use strict";var r,n,l,i,a,o,c,s,g,u,d,h,j,b,m,p,y,f,x,w,$,_,k,v,C,M,E,I,S,z,A,G,P;return{setters:[e=>{r=e.bY,n=e.Q,l=e.E,i=e.aB,a=e.aX,o=e.ak,c=e.ag,s=e.aO,g=e.S,u=e.dX,d=e.b1,h=e.aM,j=e.aJ,b=e.bX,m=e.au,p=e.P,y=e.U,f=e.a9,x=e.d1,w=e.am,$=e.ae,_=e.e2,k=e.r,v=e.c3,C=e.c4,M=e.q},e=>{E=e.b},e=>{I=e.I},e=>{S=e.O},e=>{z=e.g},e=>{A=e.I,G=e.u},e=>{P=e.G},null,null,null,null,null,null,null,null,null],execute:function(){const t=e=>{const{isHide:t}=r();if(t(e.obj)||e.obj.type!==S.IMAGE)return null;const{setPathAs:p}=n(),y=l(a,{get color(){return i()},boxSize:"$12",get as(){return z(e.obj)}}),{show:f}=E({id:1}),{rawLink:x}=o(),{openWithDoubleClick:w,toggleWithClick:$,restoreSelectionCache:_}=G();return l(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},style:{"flex-grow":1},get children(){return l(c,{w:"$full",get classList(){return{selected:!!e.obj.selected}},class:"image-item viselect-item",get"data-index"(){return e.index},p:"$1",spacing:"$1",rounded:"$lg",transition:"all 0.3s",border:"2px solid transparent",get _hover(){return{border:`2px solid ${i()}`}},get cursor(){return w()||$()?"default":"pointer"},onMouseEnter:()=>{p(e.obj.name,e.obj.is_dir,!0)},onContextMenu:t=>{b(()=>{u(e.index,!0,!0)}),f(t,{props:e.obj})},get children(){return l(s,{w:"$full",pos:"relative",get children(){return[l(g,{get when(){return d()},get children(){return l(A,{pos:"absolute",left:"$1",top:"$1","on:mousedown":e=>{e.stopPropagation()},"on:click":e=>{e.stopPropagation()},get checked(){return e.obj.selected},onChange:t=>{u(e.index,t.target.checked)}})}}),l(I,{h:"150px",w:"$full",objectFit:"cover",rounded:"$lg",shadow:"$md",get fallback(){return l(j,{size:"lg"})},fallbackErr:y,get src(){return x(e.obj)},loading:"lazy","on:dblclick":()=>{w()&&(h.emit("gallery",e.obj.name),u(e.index,!0,!0))},"on:click":t=>{if(!w()&&!(t.ctrlKey||t.metaKey||t.shiftKey)&&_())return $()?u(e.index,!e.obj.selected):void h.emit("gallery",e.obj.name)}})]}})}})}})};e("default",e=>{const r=M(),n=p(()=>l(x,{w:"$full",gap:"$1",templateColumns:"repeat(auto-fill, minmax(100px,1fr))",class:"image-folders",get children(){return l(y,{get each(){return f.objs.filter(e=>e.is_dir)},children:(e,t)=>l(P,{obj:e,get index(){return t()}})})}})),{registerSelectContainer:i,captureContentMenu:a}=G();return i(),l(c,{"oncapture:contextmenu":a,class:"viselect-container",spacing:"$2",w:"$full",get children(){return[l(g,{get when(){return"visible"===k.show_count_msg},get children(){return l(w,{w:"100%",textAlign:"left",pl:"$2",get children(){return l($,{size:"sm",color:"$neutral11",get children(){return _(S.IMAGE)}})}})}}),l(g,{get when(){return"top"===k.show_folder_in_image_view},get children(){return n()}}),l(g,{get when(){return e.images.length>0},get fallback(){return l(C,{m:"$2",get children(){return r("home.no_images")}})},get children(){return l(v,{w:"$full",gap:"$1",flexWrap:"wrap",class:"image-images",get children(){return l(y,{get each(){return f.objs},children:(e,r)=>l(t,{obj:e,get index(){return r()}})})}})}}),l(g,{get when(){return"bottom"===k.show_folder_in_image_view},get children(){return n()}})]}})})}}});
