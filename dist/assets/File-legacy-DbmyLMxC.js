System.register(["./index-legacy-DNq8sViu.js","./obj-legacy-BKgCPAKc.js","./index-legacy-BZucqK1J.js"],function(e,r){"use strict";var n,t,o,a,i,p,c,l,s,m,d,u,h,g,v,y,_,w,f,b,j,k,x,$,O,S,T,E,I,L,C,P,M,D,U,X,z,A;return{setters:[e=>{n=e.P,t=e.cN,o=e.a9,a=e.ak,i=e.E,p=e.aG,c=e.av,l=e.L,s=e.q,m=e.aX,d=e.cO,u=e.aC,h=e.U,g=e.aD,v=e.cF,y=e.S,_=e.cM,w=e.a0,f=e.cP,b=e.k,j=e.ap,k=e.ac,x=e.cQ,$=e.ah,O=e.aZ,S=e.aK,T=e.aL,E=e.cE,I=e.cR,L=e.C,C=e.ag,P=e.aH,M=e.bx,D=e.a5,U=e.aF,X=e.aa},e=>{z=e.O},e=>{A=e.l}],execute:function(){const F=e("O",()=>{const e=s(),r=n(()=>t(o.obj.name)),{currentObjLink:_}=a();return i(y,{get when(){return r().length},get children(){return i(p,{get children(){return[i(c,{as:l,colorScheme:"success",get rightIcon(){return i(m,{as:d})},get children(){return e("home.preview.open_with")}}),i(u,{get children(){return i(h,{get each(){return r()},children:e=>i(g,{as:"a",target:"_blank",get href(){return v(e.value,{raw_url:o.raw_url,name:o.obj.name,d_url:_(!0)})},get children(){return e.key}})})}})]}})}})}),V=e=>{const{currentObjLink:r}=a(),t=n(()=>v(e.scheme,{raw_url:o.raw_url,name:o.obj.name,d_url:r(!0),ts:!0}));return i(f,{w:"$full",h:"70vh",get children(){return[i(_.iframe,{w:"$full",h:"$full",get src(){return t()}}),i(m,{pos:"absolute",right:"$2",bottom:"$10","aria-label":"Open in new tab",as:A,onClick:()=>{window.open(t(),"_blank")},cursor:"pointer",rounded:"$md",get bgColor(){return w()},p:"$1",boxSize:"$7"})]}})},G=[{name:"HTML网页",exts:["html"],component:k(()=>$(()=>r.import("./html-legacy-BwZCzJOo.js"),void 0)),prior:!0},{name:"阿里网盘视频",type:z.VIDEO,provider:/^Aliyundrive(Open)?$/,component:k(()=>$(()=>r.import("./aliyun_video-legacy-BHsHpHcr.js"),void 0)),prior:!0},{name:"阅读文档",type:z.TEXT,component:k(()=>$(()=>r.import("./markdown-legacy-DAQQXQcV.js"),void 0)),prior:!0},{name:"阅读文档自动换行",type:z.TEXT,component:k(()=>$(()=>r.import("./markdown_with_word_wrap-legacy-CmnRBMZ3.js"),void 0)),prior:!0},{name:"URL网址",exts:["url"],component:k(()=>$(()=>r.import("./url-legacy-u2MQOG6n.js"),void 0)),prior:!0},{name:"查看图片",type:z.IMAGE,component:k(()=>$(()=>r.import("./image-legacy-CcMilLlP.js"),void 0)),prior:!0},{name:"播放视频",type:z.VIDEO,component:k(()=>$(()=>r.import("./video-legacy-CGROyx58.js"),void 0)),prior:!0},{name:"音乐音频",type:z.AUDIO,component:k(()=>$(()=>r.import("./audio-legacy-CZ5PnVW5.js"),void 0)),prior:!0},{name:"IPA安装及下载",exts:["ipa","tipa"],component:k(()=>$(()=>r.import("./ipa-legacy-Cxto1SgK.js"),void 0)),prior:!0},{name:"PLIST",exts:["plist"],component:k(()=>$(()=>r.import("./plist-legacy-B5gS4XP-.js"),void 0)),prior:!0},{name:"PDF预览",exts:["pdf"],component:k(()=>$(()=>r.import("./pdf-legacy-C_kXyaoI.js"),void 0)),prior:!0},{name:"录屏",exts:["cast"],component:k(()=>$(()=>r.import("./asciinema-legacy-CcFE74d7.js"),void 0)),prior:!0},{name:"压缩文档",exts:e=>{const r=O.findIndex(e=>"read_archives"===e),{isShare:n}=b();return!(!n()&&!S.can(T(),r))&&!(n()&&!j("share_archive_preview"))&&E(e)},component:k(()=>$(()=>r.import("./archive-legacy-9QuJxu3H.js"),void 0)),prior:()=>{const{isShare:e}=b();return!e()&&j("preview_archives_by_default")&&!j("preview_download_by_default")||e()&&j("share_preview_archives_by_default")&&!j("share_preview_download_by_default")}}],H=e=>{const{searchParams:n,isShare:t}=b(),o=z[n.type?.toUpperCase()],a=[],p=[],c=!t()&&j("preview_download_by_default")||t()&&j("share_preview_download_by_default");t()&&!j("share_preview")||G.forEach(r=>{var n,t,i;if((!r.provider||r.provider.test(e.provider))&&(r.type===e.type||o&&r.type===o||(t=r.exts,i=e.name,void 0!==t&&("*"===t||("function"==typeof t?t(i):t.includes(I(i).toLowerCase())))))){const e={name:r.name,component:r.component};!c&&("boolean"==typeof(n=r.prior)?n:n())?a.push(e):p.push(e)}});const l=x(e.name);a.push(...l.map(e=>{return{name:e.key,component:(r=e.value,()=>i(V,{scheme:r}))};var r}));const s={name:"下载保存",component:k(()=>$(()=>r.import("./download-legacy-BL8JSlQj.js"),void 0))},m=e.type===z.TEXT&&e.size>=1048576,d=0===a.length&&0===p.length,u=e.size<1048576;if(m)a.unshift(s);else if(d&&u){if(a.push(s),!t()||j("share_preview")){const e=G.filter(e=>["Markdown","Markdown with word wrap","Text Editor"].includes(e.name)).map(e=>({name:e.name,component:e.component}));a.push(...e)}}else a.push(s);return a.concat(p)},N=k(()=>$(()=>r.import("./download-legacy-BL8JSlQj.js"),void 0)),R=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=n(()=>H({...o.obj,provider:o.provider})),[r,t]=L(e()[0]);return i(y,{get when(){return e().length>1},get fallback(){return i(N,{openWith:!0})},get children(){return i(C,{w:"$full",spacing:"$2",get children(){return[i(P,{w:"$full",spacing:"$2",get children(){return[i(M,{alwaysShowBorder:!0,get value(){return r().name},onChange:r=>{t(e().find(e=>e.name===r))},get options(){return e().map(e=>({value:e.name}))}}),i(F,{})]}}),i(D,{get fallback(){return i(X,{})},get children(){return i(U,{get component(){return r().component}})}})]}})}})}},Symbol.toStringTag,{value:"Module"}));e("F",R)}}});
