System.register(["./index-legacy-DNq8sViu.js","./index-legacy-Ml8SLWFo.js","./index-legacy-BZucqK1J.js","./FolderTree-legacy-eN3rFFI2.js","./index-legacy-DJRAEDEg.js","./index-legacy-B97P-lFS.js","./share-legacy-Si5da0-x.js"],function(e,t){"use strict";var r,n,o,a,l,i,c,s,u,d,g,h,p,m,f,b,w,y,_,v,k,F,$,C,x,S,A,E,D,M,z,O,B,I,j,L,T,R,N,V,H,U,P,q,W,G,K,X,J,Y,Q,Z,ee,te,re,ne,oe,ae,le,ie,ce,se,ue,de,ge,he,pe,me,fe,be,we,ye,_e,ve,ke,Fe,$e,Ce,xe,Se,Ae,Ee,De,Me,ze,Oe,Be,Ie,je,Le,Te,Re,Ne,Ve,He,Ue,Pe,qe,We,Ge,Ke,Xe,Je,Ye,Qe,Ze,et,tt,rt,nt,ot,at,lt,it,ct,st,ut,dt,gt,ht,pt,mt,ft,bt,wt,yt,_t,vt,kt,Ft,$t,Ct,xt,St,At,Et,Dt,Mt,zt,Ot,Bt,It,jt,Lt,Tt,Rt,Nt,Vt,Ht,Ut,Pt,qt,Wt,Gt,Kt,Xt,Jt,Yt,Qt,Zt,er,tr,rr,nr,or,ar,lr,ir,cr,sr,ur,dr,gr,hr,pr,mr,fr,br,wr,yr,_r,vr,kr,Fr,$r,Cr,xr,Sr,Ar,Er;return{setters:[e=>{r=e.u,n=e.k,o=e.l,a=e.o,l=e.q,i=e.r,c=e.x,s=e.y,u=e.z,d=e.A,g=e.B,h=e._,p=e.C,m=e.D,f=e.E,b=e.M,w=e.F,y=e.G,_=e.H,v=e.S,k=e.T,F=e.I,$=e.J,C=e.K,x=e.L,S=e.N,A=e.O,E=e.P,D=e.Q,M=e.R,z=e.U,O=e.V,B=e.W,I=e.X,j=e.Y,L=e.Z,T=e.$,R=e.a0,N=e.a1,V=e.a2,H=e.a3,U=e.a4,P=e.a5,q=e.a6,W=e.a7,G=e.a8,K=e.a9,X=e.aa,J=e.ab,Y=e.ac,Q=e.ad,Z=e.ae,ee=e.af,te=e.ag,re=e.ah,ne=e.ai,oe=e.aj,ae=e.ak,le=e.al,ie=e.am,ce=e.an,se=e.ao,ue=e.ap,de=e.aq,ge=e.ar,he=e.as,pe=e.at,me=e.au,fe=e.av,be=e.aw,we=e.ax,ye=e.ay,_e=e.az,ve=e.aA,ke=e.aB,Fe=e.aC,$e=e.aD,Ce=e.aE,xe=e.aF,Se=e.aG,Ae=e.aH,Ee=e.aI,De=e.aJ,Me=e.aK,ze=e.aL,Oe=e.aM,Be=e.aN,Ie=e.aO,je=e.aP,Le=e.aQ,Te=e.aR,Re=e.aS,Ne=e.aT,Ve=e.aU,He=e.aV,Ue=e.aW,Pe=e.aX,qe=e.aY,We=e.aZ,Ge=e.a_,Ke=e.a$,Xe=e.b0,Je=e.b1,Ye=e.b2,Qe=e.b3,Ze=e.b4,et=e.b5,tt=e.b6,rt=e.b7,nt=e.b8,ot=e.b9,at=e.ba,lt=e.bb,it=e.bc,ct=e.bd,st=e.be,ut=e.bf,dt=e.bg,gt=e.bh,ht=e.bi,pt=e.bj,mt=e.bk,ft=e.bl,bt=e.bm,wt=e.bn,yt=e.bo,_t=e.bp,vt=e.bq,kt=e.br,Ft=e.bs,$t=e.bt,Ct=e.bu,xt=e.bv,St=e.bw,At=e.bx,Et=e.by,Dt=e.bz,Mt=e.bA,zt=e.bB,Ot=e.bC,Bt=e.bD,It=e.bE,jt=e.bF,Lt=e.bG,Tt=e.bH,Rt=e.bI,Nt=e.bJ,Vt=e.bK,Ht=e.bL,Ut=e.bM,Pt=e.bN,qt=e.bO,Wt=e.bP,Gt=e.bQ,Kt=e.bR,Xt=e.bS,Jt=e.bT,Yt=e.bU,Qt=e.bV,Zt=e.bW,er=e.bX,tr=e.bY,rr=e.bZ,nr=e.b_,or=e.b$,ar=e.c0,lr=e.c1},e=>{ir=e.u,cr=e.I,sr=e.S,ur=e.a},e=>{dr=e.L,gr=e.T,hr=e.B,pr=e.a,mr=e.b,fr=e.c,br=e.d,wr=e.e,yr=e.f,_r=e.g,vr=e.V,kr=e.h,Fr=e.i},e=>{$r=e.F,Cr=e.M},e=>{xr=e.R},e=>{Sr=e.c},e=>{Ar=e.r,Er=e.m}],execute:function(){function Dr(e){return null==e||""===e}function Mr(e){return null==e}e({I:function(e){return je({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M5.482 12.944c-.942-.235-1.466-.984-1.468-2.095 0-.355.025-.525.114-.754.217-.56.793-.982 1.55-1.138.377-.077.493-.16.493-.353 0-.06.045-.24.1-.399.249-.724.71-1.327 1.202-1.573.515-.258.776-.316 1.399-.313.886.005 1.327.197 1.945.846l.34.357.304-.105c1.473-.51 2.942.358 3.061 1.809l.032.397.29.104c.829.297 1.218.92 1.148 1.837-.046.599-.326 1.078-.77 1.315l-.209.112-4.638.009c-3.564.007-4.697-.006-4.893-.055zm-3.869-.663c-.565-.142-1.164-.67-1.445-1.273C.009 10.666 0 10.615 0 10.01c0-.576.014-.668.14-.954a2.141 2.141 0 0 1 1.422-1.21c.136-.036.263-.094.283-.128s.043-.221.05-.415c.045-1.206.794-2.269 1.839-2.61.565-.184 1.306-.202 1.92.058.195.082.173.1.585-.471.244-.338.705-.695 1.108-.909.435-.231.887-.337 1.428-.336 1.512.004 2.815 1.003 3.297 2.529.154.487.146.624-.035.628a3.144 3.144 0 0 0-.505.102l-.361.099-.329-.348c-.928-.98-2.441-1.192-3.728-.522a3.156 3.156 0 0 0-1.239 1.153c-.222.357-.506 1.024-.506 1.189 0 .117-.09.176-.474.309-1.189.412-1.883 1.364-1.882 2.582 0 .443.108.986.258 1.296.057.117.088.228.07.247-.046.049-1.525.032-1.73-.019z"/>'},e)},a:function(e){return je({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M6.844 10 3.96 15h9.072l2.884-5zM15.506 9l-4.619-8H5.112l4.619 8zM4.534 2 0 9.856l2.888 5L7.422 7z"/>'},e)},b:function(e){return je({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 0 0 5 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 0 0 1.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 0 0-2.025-3.276l.5-1.001a.5.5 0 0 0-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 0 0-2.84 0l-.13.052L5.948.276a.5.5 0 0 0-.895.447l.5 1.001A4.499 4.499 0 0 0 3.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 0 1-.001-1h.002A.5.5 0 0 1 6.5 4zm3 0a.5.5 0 0 1-.001-1h.003a.5.5 0 0 1-.001 1z"/>'},e)},c:yn});const zr=e("u",()=>{const{rawLinks:e}=r(),t=l(),{pathname:p,isShare:m}=n();return{batchDownloadSelected:()=>{e(!0).forEach(e=>{window.open(e,"_blank")})},sendToAria2:async()=>{const e=o(),r=async(e,t)=>{if(t.is_dir){const n=await g(d(p(),e,t.name),h());if(200!==n.code)return n.message;const o=[];for(const a of n.data.content??[]){const n=await r(d(e,t.name),a);if("string"==typeof n)return n;o.push(...n)}return o}return[{path:d(e,t.name),dir:e,url:u(d(p(),e),t,"direct",m(),!0),name:t.name}]},{aria2_rpc_url:n,aria2_rpc_secret:a}=i;if(n)try{let o="/downloads/iNoi";o=await async function(e,t){let r="/downloads/iNoi";const n=await s.post(e,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.getGlobalOption",params:["token:"+(t??"")]});return console.log(n),200===n.status&&(Dr(n.data.result.dir)||(r=n.data.result.dir),r=r.endsWith("/")?r.slice(0,-1):r),r}(n,a);let l=!1;c.info(`${t("home.package_download.fetching_struct")}`);for(const i of e){const e=await r("",i);if("object"!=typeof e||void 0===e.length)return c.error(`${t("home.package_download.fetching_struct_failed")}: ${e}`),e;for(let r=0;r<e.length;r++){if(Dr(e[r].path)||Mr(e[r].dir)||Dr(e[r].url)||Dr(e[r].name)){c.error(`${t("home.package_download.fetching_struct_failed")}: ${JSON.stringify(e[r])}`);continue}l||(l=!0,c.info(`${t("home.package_download.downloading")}`));const i=await s.post(n,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+(a??""),[e[r].url],{out:e[r].name,dir:o+e[r].dir,"check-certificate":"false"}]});console.log(i)}}c.success(t("home.toolbar.send_aria2_success"))}catch(l){console.error(l),c.error(t("home.toolbar.aria2_set_error"))}else c.warning(t("home.toolbar.aria2_not_set"))},playlistDownloadSelected:()=>{const r=o().filter(e=>!e.is_dir);let n=a(p());1===r.length&&(n=r[0].name),n||(n=t("manage.sidemenu.home"));const l=r.reduce((t,r,n)=>`${t}#EXTINF:-1,${r.name}\n${e(!0)[n]}\n`,"#EXTM3U\n"),i=new Blob([l],{type:"application/x-mpegURL"}),c=document.createElement("a");c.href=URL.createObjectURL(i),c.download=`${n}.m3u8`,c.click(),URL.revokeObjectURL(c.href)}}});var Or=(e=>(e.Name="name",e.Size="size",e.Modified="modified",e.None="",e))(Or||{}),Br=(e=>(e.Asc="ASC",e.Desc="DESC",e.None="",e))(Br||{}),Ir=(e=>(e.Front="front",e.Back="back",e.None="",e))(Ir||{});const jr=e=>{const[t,r]=p(e.defaultValue??""),n=l();let o;const a=()=>{const r=t().lastIndexOf(".");setTimeout(()=>{r>0&&e.isRenamingFile?o.setSelectionRange(0,r):o.select()},10)};m(()=>{o&&(o.focus(),a()),A(()=>{o&&o.setSelectionRange(0,0)})}),m(()=>{e.opened||r("")});const i=()=>{t()?e.onSubmit?.(t()):c.warning(n("global.empty_input"))};return f(S,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[f(b,{}),f(w,{onDrop:t=>e.onDrop?.(t,r),get children(){return[f(y,{get children(){return n(e.title)}}),f(_,{get children(){return[f(v,{get when(){return e.topSlot},get children(){return e.topSlot}}),f(v,{get when(){return"text"===e.type},get fallback(){return f(F,{id:"modal-input",get type(){return e.type},get value(){return t()},ref:e=>o=e,onInput:e=>{r(e.currentTarget.value)},onFocus:a,onKeyDown:e=>{"Enter"===e.key&&i()}})},get children(){return f(k,{id:"modal-input",get value(){return t()},ref:e=>o=e,onInput:e=>{r(e.currentTarget.value)},onFocus:a})}}),f(v,{get when(){return e.tips},get children(){return f($,{get children(){return e.tips}})}}),f(v,{get when(){return e.bottomSlot},get children(){return e.bottomSlot}})]}}),f(C,{display:"flex",gap:"$2",get children(){return[f(v,{get when(){return e.footerSlot},get children(){return e.footerSlot}}),f(x,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return n("global.cancel")}}),f(x,{get loading(){return e.loading},onClick:()=>i(),get children(){return n("global.ok")}})]}})]}})]}})},Lr=()=>{const{pathname:e,isShare:t}=n(),r=E(()=>{if(t()){const t=e().split("/").filter(Boolean);return[`@s/${t[1]??""}`,...t.slice(2)]}return["",...e().split("/").filter(Boolean)]}),o=l(),{setPathAs:a}=D(),c=E(()=>{const e={_after:{content:"",backgroundColor:"$background",position:"absolute",height:"100%",width:"99vw",zIndex:-1,transform:"translateX(-50%)",left:"50%",top:0}};switch(i.position_of_header_navbar){case"only_navbar_sticky":return{...e,position:"sticky",zIndex:"$sticky",top:0};case"sticky":return{...e,position:"sticky",zIndex:"$sticky",top:60};default:return{_after:void 0,position:void 0,zIndex:void 0,top:void 0}}});return f(V,M(c,{background:"$background",class:"nav",w:"$full",get children(){return f(z,{get each(){return r()},children:(e,n)=>{const l=E(()=>n()===r().length-1),i=r().slice(0,n()+1).join("/"),c=O(i);let s=()=>e;return t()||""!==s()?t()&&0===n()&&(s=()=>B("share_icon")+o("manage.sidemenu.shares")):s=()=>B("home_icon")+o("manage.sidemenu.home"),f(I,{class:"nav-item",get children(){return[f(j,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{backgroundColor:R(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return l()},get as(){return l()?void 0:T},get href(){return L(c)},onMouseEnter:()=>a(i),get children(){return s()}}),f(v,{get when(){return!l()},get children(){return f(N,{class:"nav-separator"})}})]}})}})}}))},Tr=Y(()=>re(()=>t.import("./Folder-legacy-CuBYHXN7.js"),void 0)),Rr=Y(()=>re(()=>t.import("./File-legacy-DbmyLMxC.js").then(e=>e.F),void 0)),Nr=Y(()=>re(()=>t.import("./Password-legacy-BucOxXtw.js"),void 0)),[Vr,Hr]=p(),Ur=()=>{const e=l(),t=H("white","$neutral3"),{pathname:r,searchParams:o,isShare:a}=n(),{handlePathChange:i,refresh:c}=D(),s=U(),u=E(()=>"pagination"===s.type?parseInt(o.page,10)||1:void 0);let d,g;return m(ne([r,u],async([e,t])=>{o.pwd&&Q(o.pwd),d&&oe(d,g),d=e,g=t,ir(),await i(e,t)})),f(te,{ref:e=>Hr(e),class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return t()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return f(P,{get fallback(){return f(X,{})},get children(){return f(q,{get children(){return[f(W,{get when(){return K.err},get children(){return f(G,{get msg(){return K.err},disableColor:!0})}}),f(W,{get when(){return[J.FetchingObj,J.FetchingObjs].includes(K.state)},get children(){return f(X,{})}}),f(W,{get when(){return K.state===J.NeedPassword},get children(){return f(Nr,{get title(){return ee(()=>!!a())()?e("shares.input_password"):e("home.input_password")},password:h,setPassword:Q,enterCallback:()=>c(!0),get children(){return f(v,{get when(){return!a()},get children(){return[f(Z,{get children(){return e("global.have_account")}}),f(Z,{color:"$info9",as:dr,get href(){return`/@login?redirect=${encodeURIComponent(location.pathname)}`},get children(){return e("global.go_login")}})]}})}})}}),f(W,{get when(){return[J.Folder,J.FetchingMore].includes(K.state)},get children(){return f(Tr,{})}}),f(W,{get when(){return K.state===J.File},get children(){return f(Rr,{})}})]}})}})}})};function Pr(e){const t=H("white","$neutral3"),{proxyLink:r}=ae();n();const o=E(ne(()=>K.state,()=>{if(![J.FetchingMore,J.Folder,J.File].includes(K.state))return"";if([J.FetchingMore,J.Folder].includes(K.state)){const t=K.objs.find(t=>e.files.find(e=>e.toLowerCase()===t.name.toLowerCase()));if(t)return r(t,!0)}return K[e.fromMeta]&&"string"==typeof K[e.fromMeta]?K[e.fromMeta]:""})),[a]=le(o,async e=>{let t={content:e};return/^https?:\/\//g.test(e)&&(t=await de(e)),t});return f(v,{get when(){return ee(()=>!!ue("readme_autorender"))()&&o()},get children(){return f(ie,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return t()},shadow:"$lg",get children(){return f(ce,{get loading(){return a.loading},get children(){return f(se,{get children(){return a()?.content},readme:!0,get toc(){return"readme"===e.fromMeta}})}})}})}})}const qr=e=>{const t=B("home_container");return f(q,{get fallback(){return f(ie,{w:"min(99%, 1280px)",get children(){return e.children}})},get children(){return f(W,{when:"hope_container"===t,get children(){return f(ge,{get children(){return e.children}})}})}})};function Wr(){const{to:e}=n(),t=he(),[r,o]=p(),[a,l]=p(),[i,c]=p(-999),s=()=>{const e=Vr(),t=a();if(!e||!t)return;const r=e.offsetLeft>50?16:0;t.clientWidth<e.offsetLeft-r?c(0):c(`calc(-100% + ${e.offsetLeft}px - ${r}px)`)};let u;return pe(()=>{const e=r();e?.setPath(t.pathname),u=requestAnimationFrame(s),window.addEventListener("resize",s),A(()=>window.removeEventListener("resize",s))}),m(ne(()=>K.state,()=>{cancelAnimationFrame(u),u=requestAnimationFrame(s)})),m(ne(()=>t.pathname,()=>{const e=r();e?.setPath(t.pathname)})),f(ie,{get as(){return me.div},initial:{x:-999},get animate(){return{x:i()}},zIndex:"$overlay",pos:"fixed",left:3,top:3,h:"calc(100vh - 6px)",minW:180,p:"$2",overflow:"auto",shadow:"$lg",rounded:"$lg",bgColor:"white",_dark:{bgColor:"$neutral3"},onMouseEnter:()=>c(0),onMouseLeave:s,ref:e=>l(e),get children(){return f($r,{autoOpen:!0,showEmptyIcon:!0,showHiddenFolder:!1,onChange:t=>e(t),handle:e=>o(e)})}})}function Gr(){const e=E(()=>"none"!==i.show_sidebar);return f(v,{get when(){return e()},get children(){return f(Wr,{})}})}const Kr=()=>f(qr,{get children(){return f(te,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[f(Pr,{files:["header.md","top.md","index.md"],fromMeta:"header"}),f(Lr,{}),f(Ur,{}),f(Pr,{files:["footer.md","bottom.md"],fromMeta:"readme"}),f(Gr,{})]}})}}),Xr=()=>f(te,{class:"footer",w:"$full",py:"$4"}),Jr={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function Yr(e,t,r){t/=100,r/=100;let n=(n,o=(n+e/60)%6)=>r-r*t*Math.max(Math.min(o,4-o,1),0);return[255*n(5),255*n(3),255*n(1)]}function Qr(e,t,r){r/=100;let n=(t/=100)*Math.min(r,1-r),o=(t,o=(t+e/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[255*o(0),255*o(8),255*o(4)]}const Zr="^\\s*",en="\\s*$",tn="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",rn="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",nn="([0-9A-Fa-f])",on="([0-9A-Fa-f]{2})",an=new RegExp(`${Zr}hsl\\s*\\(${rn},${tn},${tn}\\)${en}`),ln=new RegExp(`${Zr}hsv\\s*\\(${rn},${tn},${tn}\\)${en}`),cn=new RegExp(`${Zr}hsla\\s*\\(${rn},${tn},${tn},${rn}\\)${en}`),sn=new RegExp(`${Zr}hsva\\s*\\(${rn},${tn},${tn},${rn}\\)${en}`),un=new RegExp(`${Zr}rgb\\s*\\(${rn},${rn},${rn}\\)${en}`),dn=new RegExp(`${Zr}rgba\\s*\\(${rn},${rn},${rn},${rn}\\)${en}`),gn=new RegExp(`${Zr}#${nn}${nn}${nn}${en}`),hn=new RegExp(`${Zr}#${on}${on}${on}${en}`),pn=new RegExp(`${Zr}#${nn}${nn}${nn}${nn}${en}`),mn=new RegExp(`${Zr}#${on}${on}${on}${on}${en}`);function fn(e){return parseInt(e,16)}function bn(e){try{let t;if(t=hn.exec(e))return[fn(t[1]),fn(t[2]),fn(t[3]),1];if(t=un.exec(e))return[kn(t[1]),kn(t[5]),kn(t[9]),1];if(t=dn.exec(e))return[kn(t[1]),kn(t[5]),kn(t[9]),_n(t[13])];if(t=gn.exec(e))return[fn(t[1]+t[1]),fn(t[2]+t[2]),fn(t[3]+t[3]),1];if(t=mn.exec(e))return[fn(t[1]),fn(t[2]),fn(t[3]),_n(fn(t[4])/255)];if(t=pn.exec(e))return[fn(t[1]+t[1]),fn(t[2]+t[2]),fn(t[3]+t[3]),_n(fn(t[4]+t[4])/255)];if(e in Jr)return bn(Jr[e]);if(an.test(e)||cn.test(e)){const[t,r,n,o]=function(e){try{let t;if(t=cn.exec(e))return[vn(t[1]),Fn(t[5]),Fn(t[9]),_n(t[13])];if(t=an.exec(e))return[vn(t[1]),Fn(t[5]),Fn(t[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${e}.`)}catch(t){throw t}}(e);return[...Qr(t,r,n),o]}if(ln.test(e)||sn.test(e)){const[t,r,n,o]=function(e){try{let t;if(t=sn.exec(e))return[vn(t[1]),Fn(t[5]),Fn(t[9]),_n(t[13])];if(t=ln.exec(e))return[vn(t[1]),Fn(t[5]),Fn(t[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${e}.`)}catch(t){throw t}}(e);return[...Yr(t,r,n),o]}throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function wn(e,t,r,n){return`rgba(${kn(e)}, ${kn(t)}, ${kn(r)}, ${o=n,o>1?1:o<0?0:o})`;var o}function yn(e,t){const[r,n,o,a=1]=Array.isArray(e)?e:bn(e);return"number"==typeof t.alpha?wn(r,n,o,t.alpha):wn(r,n,o,a)}function _n(e){const t=Math.round(100*Number(e))/100;return t>1?1:t<0?0:t}function vn(e){const t=Math.round(Number(e));return t>=360||t<0?0:t}function kn(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}function Fn(e){const t=Math.round(Number(e));return t>100?100:t<0?0:t}const $n={list:we,grid:_e,image:ve},Cn=()=>{const e=l();return f(Se,{get children(){return[f(fe,{as:be,tips:"home_tolayouts",get color(){return ke()},get bgColor(){return yn(ke(),{alpha:.05})},get _hover(){return{bgColor:yn(ke(),{alpha:.2})}},"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return f(q,{get children(){return[f(W,{get when(){return"list"===ye()},get children(){return f(we,{})}}),f(W,{get when(){return"grid"===ye()},get children(){return f(_e,{})}}),f(W,{get when(){return"image"===ye()},get children(){return f(ve,{})}})]}})}}),f(Fe,{get children(){return f(z,{get each(){return Object.entries($n)},children:t=>f($e,{get color(){return ke()},get icon(){return f(xe,{get component(){return t[1]}})},onSelect:()=>{Ce(t[0])},get children(){return e(`home.layouts.${t[0]}`)}})})}})]}})};var xn=Be('<svg fill=none stroke-width=2 xmlns=http://www.w3.org/2000/svg class="icon icon-tabler icon-tabler-device-ipad-horizontal-search"width=1em height=1em viewBox="0 0 24 24"stroke=currentColor stroke-linecap=round stroke-linejoin=round style=overflow:visible;color:currentcolor><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M11.5 20h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v5.5"></path><path d="M9 17h2"></path><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path><path d="M20.2 20.2l1.8 1.8">'),Sn=Be('<svg fill=none stroke-width=2 xmlns=http://www.w3.org/2000/svg class="icon icon-tabler icon-tabler-photo-search"width=1em height=1em viewBox="0 0 24 24"stroke=currentColor stroke-linecap=round stroke-linejoin=round style=overflow:visible;color:currentcolor><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M15 8h.01"></path><path d="M11.5 21h-5.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5"></path><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path><path d="M20.2 20.2l1.8 1.8"></path><path d="M3 16l5 -5c.928 -.893 2.072 -.893 3 0l2 2">');const An=()=>{const e=B("logo").split("\n"),t=H(e[0],e.pop()),r=E(()=>"sticky"===i.position_of_header_navbar?{position:"sticky",zIndex:"$sticky",top:0}:{position:void 0,zIndex:void 0,top:void 0});return f(Ie,M(r,{bgColor:"$background",class:"header",w:"$full",get children(){return f(qr,{get children(){return f(Ae,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[f(Ae,{class:"header-left",h:"36px",as:T,get href(){return Me.is_guest(ze())?"/@login":"/@manage"},get children(){return f(Ee,{get src(){return t()},h:"$full",w:"auto",get fallback(){return f(De,{})}})}}),f(Ae,{class:"header-right",spacing:"$2",get children(){return f(v,{get when(){return K.state===J.Folder},get children(){return[f(be,{"aria-label":"Search",get color(){return ke()},get bgColor(){return yn(ke(),{alpha:.05})},get _hover(){return{bgColor:yn(ke(),{alpha:.2})}},compact:!0,size:"lg",get icon(){return f(q,{get children(){return[f(W,{get when(){return"list"===ye()},get children(){return f(gr,{})}}),f(W,{get when(){return"grid"===ye()},get children(){return xn()}}),f(W,{get when(){return"image"===ye()},get children(){return Sn()}})]}})},onClick:()=>{Oe.emit("tool","search")}}),f(Cn,{})]}})}})]}})}})}}))},En=e("o",{rename:{icon:Ue,color:"$accent9"},copy:{icon:wr,color:"$success9"},move:{icon:br,color:"$warning9"},delete:{icon:He,color:"$danger9"},decompress:{icon:fr,color:"$neutral9"},copy_link:{icon:mr,color:"$info9"},mkdir:{icon:Te,p:!0},recursive_move:{icon:function(e){return je({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M11 8v6h1V8h2.5l-3-3-3 3zM1 3h1.5v1H1V3zM3 3h1.5v1H3V3zM5 3h1v1.5H5V3zM1 6.5h1V8H1V6.5zM2.5 7H4v1H2.5V7zM4.5 7H6v1H4.5V7zM1 4.5h1V6H1V4.5zM5 5h1v1.5H5V5zM5 11v3H2v-3h3zm1-1H1v5h5v-5z"/>'},e)},p:!0},remove_empty_directory:{icon:Ve,p:!0},batch_rename:{icon:hr,p:!0},new_file:{icon:Le,p:!0},cancel_select:{icon:pr},download:{icon:Ne,color:"$primary9"},share:{icon:Re,color:"$primary9"}}),Dn=e=>{const t=We.findIndex(t=>t===e.name);if(-1!==t&&!Me.can(ze(),t))return null;const r=l();return f(qe,{placement:"top",withArrow:!0,get label(){return r(`home.toolbar.${e.name}`)},get children(){return f(Pe,M({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:R()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$md",get p(){return En[e.name]?.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return En[e.name]?.icon},get color(){return En[e.name]?.color}},e))}})},Mn=e=>{const t=l();return f(qe,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return f(Pe,M({get color(){return ke()},get _hover(){return{bgColor:ke(),color:"white"}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},zn=()=>{const e=l(),{copySelectedPreviewPage:t,copySelectedRawLink:r}=Ge(),n="neutral";return f(Se,{placement:"top",offset:10,get children(){return[f(fe,{as:Dn,name:"copy_link"}),f(Fe,{get children(){return[f($e,{colorScheme:n,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),f($e,{colorScheme:n,onSelect:()=>{r()},get children(){return e("home.toolbar.down_link")}}),f($e,{colorScheme:n,onSelect:()=>{r(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})};var On=Be("<p>");const Bn=()=>{const e=l(),t="neutral",{batchDownloadSelected:r,sendToAria2:n,playlistDownloadSelected:o}=zr();return f(Se,{placement:"top",offset:10,get children(){return[f(fe,{as:Dn,name:"download"}),f(Fe,{get children(){return[f($e,{colorScheme:t,onSelect:r,get children(){return e("home.toolbar.batch_download")}}),f(v,{get when(){return Me.is_admin(ze())||ue("package_download")},get children(){return[f($e,{colorScheme:t,onSelect:()=>{Oe.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}}),f($e,{colorScheme:t,onSelect:o,get children(){return e("home.toolbar.playlist_download")}}),f($e,{colorScheme:t,onSelect:n,get children(){return e("home.toolbar.send_aria2")}})]}})]}})]}})},In=Y(()=>re(()=>t.import("./PackageDownload-legacy-BazEUvzj.js"),void 0)),jn=()=>{const e=l(),t=e=>{if("package_download"===e){if(!ue("package_download"))return;n()}};Oe.on("tool",t),A(()=>{Oe.off("tool",t)});const{isOpen:r,onOpen:n,onClose:o}=Ke(),[a,i]=p("pre_tips");return f(S,{blockScrollOnMount:!1,get opened(){return r()},onClose:o,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return e("home.toolbar.package_download")}}),f(P,{get fallback(){return f(X,{})},get children(){return f(v,{get when(){return"pre_tips"===a()},get fallback(){return f(In,{onClose:o})},get children(){return[f(_,{get children(){var t=On();return Xe(t,()=>e("home.toolbar.pre_package_download-tips")),t}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),f(x,{colorScheme:"info",onClick:()=>{i("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})},Ln=()=>{const e=E(()=>[J.Folder,J.FetchingMore].includes(K.state)&&Je()&&Ye()),{isShare:t}=n();return f(et,{exitBeforeEnter:!0,get children(){return f(v,{get when(){return ee(()=>!!e())()&&Me.is_admin(ze())},get children(){return f(ie,{class:"center-toolbar",pos:"fixed",bottom:"$5",right:"50%",w:"max-content",color:"$neutral11",get as(){return me.div},initial:{opacity:0,scale:0,x:"50% ",y:100},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:0,x:"50% ",y:100},transition:{duration:.2},get children(){return f(Ae,{p:"$2",get bgColor(){return H("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(15px)"},get children(){return[f(v,{get when(){return Ye()},get children(){return f(Qe,{colorScheme:"warning",get children(){return o().length}})}}),f(v,{get when(){return!t()},get children(){return f(z,{each:["rename","move","copy","delete","share","decompress"],children:e=>f(Dn,{name:e,onClick:()=>{Oe.emit("tool",e)}})})}}),f(zn,{}),f(Bn,{}),f(Dn,{name:"cancel_select",onClick:()=>{Ze(!1)}})]}})}})}})}})},Tn=()=>{const{isOpen:e,onToggle:t}=Ke({defaultIsOpen:"true"===localStorage.getItem("more-open"),onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),r=E(()=>e()?"$4":"$5"),o=E(()=>K.state===J.Folder),{refresh:a}=D(),{isShare:l}=n();return f(v,{get when(){return Me.is_admin(ze())},get children(){return f(ie,{class:"right-toolbar-box",pos:"fixed",get right(){return r()},get bottom(){return r()},get children(){return f(v,{get when(){return e()},get fallback(){return f(Mn,{class:"toolbar-toggle",tips:"more",as:vr,onClick:()=>{t()}})},get children(){return f(te,{class:"right-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return me.div},initial:{opacity:0,scale:0,y:300},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:0,y:300},transition:{duration:.2},get children(){return f(te,{spacing:"$1",class:"right-toolbar-in",get children(){return[f(Mn,{as:xr,tips:"refresh",onClick:()=>{a(void 0,!0),tt.show({status:"success",description:"目录刷新成功",closable:!1})}}),f(v,{get when(){return ee(()=>!(!o()||l()))()&&(nt("write")||K.write)},get children(){return[f(Mn,{as:rt,tips:"upload",onClick:()=>{Oe.emit("tool","upload")}}),f(Mn,{get as(){return En.new_file.icon},tips:"new_file",onClick:()=>{Oe.emit("tool","new_file")}}),f(Mn,{get as(){return En.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{Oe.emit("tool","mkdir")}}),f(Mn,{get as(){return En.recursive_move.icon},tips:"recursive_move",onClick:()=>{Oe.emit("tool","recursiveMove")}}),f(Mn,{get as(){return En.batch_rename.icon},tips:"batch_rename",onClick:()=>{Ze(!0),Oe.emit("tool","batchRename")}})]}}),f(v,{get when(){return ee(()=>!(!o()||l()))()&&nt("offline_download")},get children(){return f(Mn,{as:cr,pl:"0",tips:"offline_download",onClick:()=>{Oe.emit("tool","offline_download")}})}}),f(v,{get when(){return at()},get children(){return f(Mn,{as:yr,tips:"toggle_markdown_toc",onClick:()=>{ot(e=>!e)}})}}),f(Mn,{tips:"toggle_checkbox",as:_r,onClick:lt}),f(Mn,{as:it,tips:"browser_setting",onClick:()=>{Oe.emit("tool","local_settings")}}),f(Mn,{tips:"close",as:vr,onClick:t})]}})}})}})}})}})},Rn=()=>{const e=l(),{isOpen:t,onOpen:r,onClose:a}=Ke(),[i,c]=ct(st),{pathname:s}=n(),{refresh:u}=D(),[d,g]=p(!1),h=e=>{"copy"===e&&(r(),g(!1))};return Oe.on("tool",h),A(()=>{Oe.off("tool",h)}),f(Cr,{get header(){return e("home.toolbar.choose_dst_folder")},get opened(){return t()},onClose:a,get loading(){return i()},get footerSlot(){return f(dt,{mr:"auto",get checked(){return d()},onChange:()=>{g(!d())},get children(){return e("home.conflict_policy.overwrite_existing")}})},onSubmit:async e=>{const t=await c(s(),e,o().map(e=>e.name),d());ut(t,()=>{u(),a()})}})},Nn=()=>{const e=l(),{isOpen:t,onOpen:r,onClose:a}=Ke(),[i,c]=ct(gt),{pathname:s}=n(),{refresh:u}=D(),[d,g]=p(!1),h=e=>{"move"===e&&(r(),g(!1))};return Oe.on("tool",h),A(()=>{Oe.off("tool",h)}),f(Cr,{get header(){return e("home.toolbar.choose_dst_folder")},get opened(){return t()},onClose:a,get loading(){return i()},get footerSlot(){return f(dt,{mr:"auto",get checked(){return d()},onChange:()=>{g(!d())},get children(){return e("home.conflict_policy.overwrite_existing")}})},onSubmit:async e=>{const t=await c(s(),e,o().map(e=>e.name),d());ut(t,()=>{u(),a()})}})};var Vn=Be("<p>");const Hn=()=>{const e=l(),{isOpen:t,onOpen:r,onClose:a}=Ke(),[i,c]=ct(ht),{refresh:s}=D(),{pathname:u}=n(),d=e=>{"delete"===e&&r()};return Oe.on("tool",d),A(()=>{Oe.off("tool",d)}),f(S,{blockScrollOnMount:!1,get opened(){return t()},onClose:a,size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return e("home.toolbar.delete")}}),f(_,{get children(){var t=Vn();return Xe(t,()=>e("home.toolbar.delete-tips")),t}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),f(x,{colorScheme:"danger",get loading(){return i()},onClick:async()=>{const e=await c(u(),o().map(e=>e.name));ut(e,()=>{s(),a()})},get children(){return e("global.confirm")}})]}})]}})]}})},Un=()=>{const e=l(),{isOpen:t,onOpen:r,onClose:a}=Ke(),[i,c]=ct(pt),{pathname:s}=n(),{refresh:u}=D(),[g,h]=p(!1),m=e=>{if("rename"===e){if(!mt())return void Oe.emit("tool","batchRename");r(),h(!1)}};return Oe.on("tool",m),A(()=>{Oe.off("tool",m)}),f(v,{get when(){return t()},get children(){return f(jr,{title:"home.toolbar.input_new_name",get footerSlot(){return f(dt,{mr:"auto",get checked(){return g()},onChange:()=>{h(!g())},get children(){return e("home.conflict_policy.overwrite_existing")}})},get isRenamingFile(){return!o()[0].is_dir},get opened(){return t()},onClose:a,get defaultValue(){return o()[0]?.name??""},get loading(){return i()},onSubmit:async e=>{const t=await c(d(s(),o()[0].name),e,g());ut(t,()=>{u(),a()})}})}})},Pn=()=>{const e=l(),{isOpen:t,onOpen:r,onClose:o}=Ke(),[a,i]=ct(ft),{refresh:c}=D(),{pathname:s}=n(),[u,g]=p(!1),m=e=>{"new_file"===e&&(r(),g(!1))};return Oe.on("tool",m),A(()=>{Oe.off("tool",m)}),f(jr,{title:"home.toolbar.input_filename",get footerSlot(){return f(dt,{mr:"auto",get checked(){return u()},onChange:()=>{g(!u())},get children(){return e("home.conflict_policy.overwrite_existing")}})},get opened(){return t()},onClose:o,get loading(){return a()},onSubmit:async e=>{const t=await i(d(s(),e),h(),u());ut(t,()=>{c(),o()})}})},qn=()=>{const{isOpen:e,onOpen:t,onClose:r}=Ke(),[o,a]=ct(bt),{pathname:l}=n(),{refresh:i}=D(),c=e=>{"mkdir"===e&&t()};return Oe.on("tool",c),A(()=>{Oe.off("tool",c)}),f(jr,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async e=>{const t=await a(d(l(),e));ut(t,()=>{i(),r()})}})};var Wn=Be("<p>");const Gn=()=>{const{isOpen:e,onOpen:t,onClose:r}=Ke(),{isOpen:o,onOpen:a,onClose:i}=Ke(),[c,s]=ct(wt),{pathname:u}=n(),{refresh:d}=D(),[g,h]=p("cancel"),m=e=>{"recursiveMove"===e&&(t(),h("cancel"))};Oe.on("tool",m),A(()=>{Oe.off("tool",m)});const v=l();return[f(S,{blockScrollOnMount:!1,get opened(){return e()},onClose:()=>r(),size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return v("home.toolbar.recursive_move")}}),f(_,{get children(){var e=Wn();return Xe(e,()=>v("home.toolbar.recursive_move_directory-tips")),e}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:()=>r(),colorScheme:"neutral",get children(){return v("global.cancel")}}),f(x,{onClick:()=>{r(),a()},colorScheme:"danger",get children(){return v("global.confirm")}})]}})]}})]}}),f(Cr,{get header(){return v("home.toolbar.choose_dst_folder")},get opened(){return o()},onClose:i,get loading(){return c()},get footerSlot(){return f(Ae,{mr:"auto",flex:"0.8",spacing:"$1",get children(){return f(yt,{get value(){return g()},onChange:e=>h(e),get children(){return[f(_t,{value:"cancel",get children(){return v("home.conflict_policy.cancel_if_exists")}}),f(_t,{value:"overwrite",get children(){return v("home.conflict_policy.overwrite_existing")}}),f(_t,{value:"skip",get children(){return v("home.conflict_policy.skip_existing")}})]}})}})},onSubmit:async e=>{const t=await s(u(),e,g());ut(t,()=>{d(),i()})}})]};var Kn=Be("<p>");const Xn=()=>{const{isOpen:e,onOpen:t,onClose:r}=Ke(),{pathname:o}=n(),[a,i]=ct(vt),{refresh:c}=D(),s=e=>{"removeEmptyDirectory"===e&&t()};Oe.on("tool",s),A(()=>{Oe.off("tool",s)});const u=l();return f(S,{blockScrollOnMount:!1,get opened(){return e()},onClose:r,size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return u("home.toolbar.remove_empty_directory")}}),f(_,{get children(){var e=Kn();return Xe(e,()=>u("home.toolbar.remove_empty_directory-tips")),e}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:r,colorScheme:"neutral",get children(){return u("global.cancel")}}),f(x,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const e=await i(o());ut(e,()=>{c(),r()})},get children(){return u("global.confirm")}})]}})]}})]}})},Jn=e=>f(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return f(Ae,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:R()}},get children(){return[f(Z,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.src_name},get children(){return e.obj.src_name}}),f(Z,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.new_name},get children(){return e.obj.new_name}})]}})}});var Yn=Be("<p>");const Qn=()=>{const{isOpen:e,onOpen:t,onClose:r}=Ke(),{isOpen:a,onOpen:i,onClose:s}=Ke(),[u,d]=ct(kt),{pathname:g}=n(),{refresh:h}=D(),[m,k]=p("1"),[$,E]=p(""),[O,B]=p(""),[I,j]=p("string"),[L,T]=p([]),R=l(),N=()=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:"left",cursor:"pointer"}),V=e=>{"batchRename"===e&&i()};Oe.on("tool",V),A(()=>{Oe.off("tool",V)});const H=()=>{if(!$()||!O())return void c.warning(R("global.empty_input"));const e=new RegExp($(),"g");let r;if("1"===m())r=o().filter(e=>e.name.match($())).map(t=>{const r=new Date(t.created),n=new Date(t.modified);return{src_name:t.name,new_name:t.name.replace(e,O()).replace("{created_year}",r.getFullYear().toString().padStart(4,"0")).replace("{created_month}",(r.getMonth()+1).toString().padStart(2,"0")).replace("{created_date}",r.getDate().toString().padStart(2,"0")).replace("{created_hour}",r.getHours().toString().padStart(2,"0")).replace("{created_minute}",r.getMinutes().toString().padStart(2,"0")).replace("{created_second}",r.getSeconds().toString().padStart(2,"0")).replace("{modified_year}",n.getFullYear().toString().padStart(4,"0")).replace("{modified_month}",(n.getMonth()+1).toString().padStart(2,"0")).replace("{modified_date}",n.getDate().toString().padStart(2,"0")).replace("{modified_hour}",n.getHours().toString().padStart(2,"0")).replace("{modified_minute}",n.getMinutes().toString().padStart(2,"0")).replace("{modified_second}",n.getSeconds().toString().padStart(2,"0"))}});else{let e=O();r=o().map(t=>{let r="";const n=t.name.lastIndexOf(".");-1!==n&&(r=t.name.substring(n+1));const o={src_name:t.name,new_name:$()+e+"."+r};return e=(parseInt(e)+1).toString().padStart(e.length,"0"),o})}T(r),t(),s()};return[f(S,{blockScrollOnMount:!1,get opened(){return a()},onClose:s,initialFocus:"#modal-input1",size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return R("home.toolbar.batch_rename")}}),f(_,{get children(){return[f(Ft,{defaultValue:"1",onChange:e=>{k(e),"1"===e?j("string"):"2"===e&&j("number")},get children(){return f(Ae,{spacing:"$4",get children(){return[f($t,{value:"1",get children(){return R("home.toolbar.regex_rename")}}),f($t,{value:"2",get children(){return R("home.toolbar.sequential_renaming")}})]}})}}),f(te,{spacing:"$2",get children(){return[(e=Yn(),Ct(e,"margin","10px 0"),Xe(e,f(v,{get when(){return"1"===m()},get children(){return R("home.toolbar.regular_rename")}}),null),Xe(e,f(v,{get when(){return"2"===m()},get children(){return R("home.toolbar.sequential_renaming_desc")}}),null),e),f(F,{id:"modal-input1",type:"string",get value(){return $()},onInput:e=>{E(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&H()}}),f(F,{id:"modal-input2",get type(){return I()},get value(){return O()},onInput:e=>{B(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&H()}})];var e}})]}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:()=>{k("1"),j("string"),s()},colorScheme:"neutral",get children(){return R("global.cancel")}}),f(x,{onClick:()=>H(),get disabled(){return!$()||!O()},get children(){return R("global.ok")}})]}})]}})]}}),f(S,{size:"xl",get opened(){return e()},onClose:r,get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return R("home.toolbar.regex_rename_preview")}}),f(_,{get children(){return f(te,{class:"list",w:"$full",spacing:"$1",get children(){return[f(Ae,{class:"title",w:"$full",p:"$2",get children(){return[f(Z,M({w:{"@initial":"50%","@md":"50%"}},N,{get children(){return R("home.toolbar.regex_rename_preview_old_name")}})),f(Z,M({w:{"@initial":"50%","@md":"50%"}},N,{get children(){return R("home.toolbar.regex_rename_preview_new_name")}}))]}}),f(z,{get each(){return L()},children:(e,t)=>f(Jn,{obj:e,get index(){return t()}})})]}})}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:()=>{T([]),k("1"),j("string"),r(),s()},colorScheme:"neutral",get children(){return R("global.cancel")}}),f(x,{onClick:()=>{T([]),r(),i()},colorScheme:"neutral",get children(){return R("global.back")}}),f(x,{get loading(){return u()},onClick:async()=>{const e=await d(g(),L());ut(e,()=>{T([]),E(""),B(""),k("1"),j("string"),h(),s(),r()})},get disabled(){return 0==L().length},get children(){return R("global.ok")}})]}})]}})]}})]},Zn="0123456789abcdef",eo=[];
/* Common package for dealing with hex/string/uint8 conversions (and sha1 hashing)
      *
      * @author   Jimmy Wärting <jimmy@warting.se> (https://jimmy.warting.se/opensource)
      * @license  MIT
      */for(let e=0;e<256;e++)eo[e]=Zn[e>>4&15]+Zn[15&e];const to=e=>{const t=e.length;let r="",n=0;for(;n<t;)r+=eo[e[n++]];return r};for(var ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",no="undefined"==typeof Uint8Array?[]:new Uint8Array(256),oo=0;oo<64;oo++)no[ro.charCodeAt(oo)]=oo;const ao=new TextDecoder,lo=(e,t)=>ao.decode(e),io=new TextEncoder,co=e=>io.encode(e),so="undefined"!=typeof window?window:self,uo=so.crypto||so.msCrypto||{};function go(e){const t=e<0?1:0;return e=Math.abs(Number(e||1)),Math.floor(Math.log10(e))+1+t}function ho(e){return ArrayBuffer.isView(e)?"arraybufferview":Array.isArray(e)?"array":e instanceof Number?"number":e instanceof Boolean?"boolean":e instanceof Set?"set":e instanceof Map?"map":e instanceof String?"string":e instanceof ArrayBuffer?"arraybuffer":typeof e}function po(e,t,r){const n=[];let o=null;return po._encode(n,e),o=((e,t=0)=>{const r=e.length||0;if(!t){let n=r;for(;n--;)t+=e[n].length}const n=new Uint8Array(t);let o=t,a=r;for(;a--;)o-=e[a].length,n.set(e[a],o);return n})(n),po.bytes=o.length,ArrayBuffer.isView(t)?(t.set(o,r),t):o}uo.subtle||uo.webkitSubtle,po.bytes=-1,po._floatConversionDetected=!1,po._encode=function(e,t){if(null!=t)switch(ho(t)){case"object":po.dict(e,t);break;case"map":po.dictMap(e,t);break;case"array":po.list(e,t);break;case"set":po.listSet(e,t);break;case"string":po.string(e,t);break;case"number":case"boolean":po.number(e,t);break;case"arraybufferview":po.buffer(e,new Uint8Array(t.buffer,t.byteOffset,t.byteLength));break;case"arraybuffer":po.buffer(e,new Uint8Array(t))}};const mo=new Uint8Array([101]),fo=new Uint8Array([100]),bo=new Uint8Array([108]);function wo(e,t,r){let n=0,o=1;for(let a=t;a<r;a++){const r=e[a];if(r<58&&r>=48)n=10*n+(r-48);else if(a!==t||43!==r){if(a!==t||45!==r){if(46===r)break;throw new Error("not a number: buffer["+a+"] = "+r)}o=-1}}return n*o}function yo(e,t,r,n){return null==e||0===e.length?null:("number"!=typeof t&&null==n&&(n=t,t=void 0),"number"!=typeof r&&null==n&&(n=r,r=void 0),yo.position=0,yo.encoding=n||null,yo.data=ArrayBuffer.isView(e)?new Uint8Array(e.slice(t,r)):co(e),yo.bytes=yo.data.length,yo.next())}function _o(e){if(null==e)return 0;const t=ho(e);switch(t){case"arraybufferview":return function(e){const t=e.byteLength-e.byteOffset;return go(t)+1+t}(e);case"string":return function(e){const t=co(e).byteLength;return go(t)+1+t}(e);case"array":case"set":return function(e){let t=2;for(const r of e)t+=_o(r);return t}(e);case"number":return 1+go(Math.floor(e))+1;case"bigint":return 1+e.toString().length+1;case"object":return function(e){let t=2;const r=Object.keys(e);for(let n=0;n<r.length;n++){const o=co(r[n]).byteLength;t+=go(o)+1+o,t+=_o(e[r[n]])}return t}(e);case"map":return function(e){let t=2;for(const[r,n]of e){const e=co(r).byteLength;t+=go(e)+1+e,t+=_o(n)}return t}(e);default:throw new TypeError(`Unsupported value of type "${t}"`)}}po.buffer=function(e,t){e.push(co(t.length+":"),t)},po.string=function(e,t){e.push(co(co(t).byteLength+":"+t))},po.number=function(e,t){if(Number.isInteger(t))return e.push(co("i"+BigInt(t)+"e"));const r=2147483648,n=(t/r|0)*r+(t%r|0);e.push(co("i"+n+"e")),n===t||po._floatConversionDetected||(po._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+t+'":','Bencoding only defines support for integers, value was converted to "'+n+'"'),console.trace())},po.dict=function(e,t){e.push(fo);let r,n=0;const o=Object.keys(t).sort(),a=o.length;for(;n<a;n++)r=o[n],null!=t[r]&&(po.string(e,r),po._encode(e,t[r]));e.push(mo)},po.dictMap=function(e,t){e.push(fo);const r=Array.from(t.keys()).sort();for(const n of r)null!=t.get(n)&&(ArrayBuffer.isView(n)?po._encode(e,n):po.string(e,String(n)),po._encode(e,t.get(n)));e.push(mo)},po.list=function(e,t){let r=0;const n=t.length;for(e.push(bo);r<n;r++)null!=t[r]&&po._encode(e,t[r]);e.push(mo)},po.listSet=function(e,t){e.push(bo);for(const r of t)null!=r&&po._encode(e,r);e.push(mo)},yo.bytes=0,yo.position=0,yo.data=null,yo.encoding=null,yo.next=function(){switch(yo.data[yo.position]){case 100:return yo.dictionary();case 108:return yo.list();case 105:return yo.integer();default:return yo.buffer()}},yo.find=function(e){let t=yo.position;const r=yo.data.length,n=yo.data;for(;t<r;){if(n[t]===e)return t;t++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(e)+'" [0x'+e.toString(16)+"]")},yo.dictionary=function(){yo.position++;const e={};for(;101!==yo.data[yo.position];){const t=yo.buffer();let r=lo(t);r.includes("�")&&(r=to(t)),e[r]=yo.next()}return yo.position++,e},yo.list=function(){yo.position++;const e=[];for(;101!==yo.data[yo.position];)e.push(yo.next());return yo.position++,e},yo.integer=function(){const e=yo.find(101),t=wo(yo.data,yo.position+1,e);return yo.position+=e+1-yo.position,t},yo.buffer=function(){let e=yo.find(58);const t=wo(yo.data,yo.position,e),r=++e+t;return yo.position=r,yo.encoding?lo(yo.data.slice(e,r)):yo.data.slice(e,r)};const vo={encode:po,decode:yo,byteLength:_o,encodingLength:_o},ko=["upload_download_stream","delete_on_upload_succeed","delete_on_upload_failed","delete_never","delete_always"];function Fo(e){return Sr.enc.Utf8.stringify(Sr.lib.WordArray.create(e))}function $o(e){const t=vo.decode(e),r=vo.encode(t.info),n=Sr.SHA1(Sr.lib.WordArray.create(r)).toString();let o={};return Number.isInteger(t?.info?.length)&&(o.xl=t.info.length),t.info.name&&(o.dn=Fo(t.info.name)),t.announce&&(o.tr=Fo(t.announce)),`magnet:?xt=urn:btih:${n}&${new URLSearchParams(o).toString()}`}const Co=()=>{const e=l(),[t,r]=p([]),[o,a]=ct(()=>xt.get("/public/offline_download_tools")),[i,c]=p(""),[s,u]=p("upload_download_stream");pe(async()=>{const e=await a();Et(e,e=>{r(e),c(e[0])})});const{isOpen:d,onOpen:g,onClose:h}=Ke(),[m,b]=ct(St),{pathname:w}=n(),y=e=>{"offline_download"===e&&g()};return Oe.on("tool",y),A(()=>{Oe.off("tool",y)}),f(jr,{title:"home.toolbar.offline_download",type:"text",get opened(){return d()},onClose:h,get loading(){return o()||m()},get tips(){return e("home.toolbar.offline_download-tips")},onDrop:async(e,t)=>{if(e.preventDefault(),e.dataTransfer?.files.length){const n=[];for(const t of e.dataTransfer.files)if(t.name.toLowerCase().endsWith(".torrent"))try{const e=await t.arrayBuffer();n.push($o(new Uint8Array(e)))}catch(r){console.error("Failed to convert torrent file to magnet link:",r)}n.length&&t(n.join("\n"))}},get topSlot(){return f(ie,{mb:"$2",get children(){return f(At,{get value(){return i()},onChange:e=>{"SimpleHttp"!==e&&"upload_download_stream"===s()&&u("delete_on_upload_succeed"),c(e)},get options(){return t().map(e=>({value:e,label:e}))}})}})},get bottomSlot(){return f(ie,{mb:"$2",get children(){return f(At,{get value(){return s()},onChange:e=>u(e),get options(){return ko.filter(e=>"upload_download_stream"!=e||"SimpleHttp"===i()).map(t=>({value:t,label:e(`home.toolbar.delete_policy.${t}`)}))}})}})},onSubmit:async e=>{const t=await b(w(),e.split("\n"),i(),s());ut(t,()=>{h()})}})},xo=e=>{const t=l(),r=t=>{t===e.name&&o()};Oe.on("tool",r),A(()=>{Oe.off("tool",r)});const{isOpen:n,onOpen:o,onClose:a}=Ke();return f(S,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return n()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[f(b,{}),f(w,{get children(){return[f(Dt,{}),f(y,{get children(){return t(e.title)}}),f(_,{get children(){return f(v,{get when(){return n()},get children(){return f(P,{get fallback(){return f(X,{})},get children(){return e.children}})}})}})]}})]}})};function So(e){const t=l();return f(Qt,{get children(){return[f(Rt,{get children(){return t(`home.local_settings.${e.key}`)}}),f(q,{get fallback(){return f(F,{get value(){return i[e.key]},onInput:t=>{Vt(e.key,t.currentTarget.value)}})},get children(){return[f(W,{get when(){return"select"===e.type},get children(){return f(Nt,{get id(){return e.key},get defaultValue(){return i[e.key]},onChange:t=>Vt(e.key,t),get children(){return[f(Ht,{get children(){return[f(Ut,{get children(){return t("global.choose")}}),f(Pt,{}),f(qt,{})]}}),f(Wt,{get children(){return f(Gt,{get children(){return f(z,{get each(){return e.options},children:r=>f(Kt,{value:r,get children(){return[f(Xt,{get children(){return t(`home.local_settings.${e.key}_options.${r}`)}}),f(Jt,{})]}})})}})}})]}})}}),f(W,{get when(){return"boolean"===e.type},get children(){return f(Yt,{get defaultChecked(){return"true"===i[e.key]},onChange:t=>{Vt(e.key,t.currentTarget.checked.toString())}})}})]}})]}})}const Ao=()=>{const{isOpen:e,onOpen:t,onClose:r}=Ke(),n=l(),o=e=>{"local_settings"===e&&t()};return Oe.on("tool",o),A(()=>{Oe.off("tool",o)}),f(Tt,{get opened(){return e()},placement:"right",onClose:r,get children(){return[f(Mt,{}),f(zt,{get children(){return[f(Ot,{}),f(Bt,{color:"$info9",get children(){return n("home.toolbar.local_settings")}}),f(It,{get children(){return[f(te,{spacing:"$2",get children(){return f(z,{get each(){return jt.filter(e=>!e.hidden)},children:e=>f(So,e)})}}),f(Ie,{mt:"$4",get children(){return f(Ae,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[f(sr,{}),f(Pe,{as:kr,cursor:"pointer",boxSize:"$8",onClick:()=>{localStorage.removeItem("hope-ui-color-mode"),tt.show({status:"success",description:n("home.toolbar.local_settings_auto"),closable:!1}),setTimeout(function(){location.reload()},2500)}}),f(Lt,{})]}})}})]}})]}})]}})};var Eo=Be("<div>");const Do=()=>{const e=l(),{isOpen:t,onOpen:r,onClose:a}=Ke(),[i,c]=ct(Zt),{pathname:s}=n(),{refresh:u}=D(),[d,g]=p(""),[h,m]=p(""),[b,w]=p(!0),[y,_]=p(!1),v=e=>{"decompress"===e&&(er(()=>{w(!0),g("/"),m("")}),r())},k=e=>{const{inner:t,pass:n}=JSON.parse(e);er(()=>{w(!1),g(t),m(n)}),r()};return Oe.on("tool",v),Oe.on("extract",k),A(()=>{Oe.off("tool",v),Oe.off("extract",k)}),f(Cr,{get header(){return"/"===d()?e("home.toolbar.choose_dst_folder"):e("home.toolbar.archive.extract_header",{path:d()})},get opened(){return t()},onClose:a,get loading(){return i()},onSubmit:async e=>{const{path:t,name:r}=(()=>{let e=s();if("/"===d())return{path:e,name:o().map(e=>e.name)};{let t=e.lastIndexOf("/");return{path:e.slice(0,t),name:[e.slice(t+1)]}}})(),n=await c(t,e,r,h(),d(),b(),y());ut(n,()=>{u(),a()})},get children(){return f(te,{spacing:"$1",alignItems:"flex-start",get children(){return[f(Ae,{width:"100%",spacing:"$1",get children(){return[f(Z,{size:"sm",css:{whiteSpace:"nowrap"},get children(){return e("home.toolbar.decompress-pass")}}),f(F,{get value(){return h()},onInput:e=>m(e.target.value),size:"sm",flexGrow:"1"})]}}),f(dt,{get checked(){return b()},onChange:e=>w(e.target.checked),get children(){return e("home.toolbar.decompress-cache-full")}}),f(dt,{get checked(){return y()},onChange:e=>_(e.target.checked),get children(){return e("home.toolbar.decompress-put-into-new")}}),Eo()]}})}})},Mo=()=>{const e=l(),[t,r]=p(""),{pathname:a}=n(),i=e=>{"share"===e&&(er(()=>{r(""),h(""),v(!0);const e=o().map(e=>{const t=a().endsWith("/")||e.name.startsWith("/")?"":"/";return`${ze().base_path}${a()}${t}${e.name}`});E({files:e,expires:null,pwd:"",max_accessed:0,order_by:Or.None,order_direction:Br.None,extract_folder:Ir.None,remark:"",readme:"",header:""})}),s())};Oe.on("tool",i),A(()=>{Oe.off("tool",i)});const{isOpen:c,onOpen:s,onClose:u}=Ke(),{copy:d}=tr(),[g,h]=p(""),[m,v]=p(!0),[$,E]=rr({}),[D,M]=ct(()=>xt.post("/share/create",$));return f(S,{blockScrollOnMount:!1,get opened(){return c()},onClose:u,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return e("home.toolbar.share")}}),f(q,{get fallback(){return[f(_,{get children(){return f(k,{variant:"filled",get value(){return t()},readonly:!0})}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{colorScheme:"primary",onClick:()=>{d(t())},get children(){return e("shares.copy_msg")}}),f(x,{colorScheme:"info",onClick:u,get children(){return e("global.confirm")}})]}})]},get children(){return f(W,{get when(){return""===t()},get children(){return[f(_,{get children(){return f(te,{spacing:"$1",alignItems:"flex-start",get children(){return[f(Z,{size:"sm",get children(){return e("shares.remark")}}),f(k,{size:"sm",get value(){return $.remark},onInput:e=>{E("remark",e.currentTarget.value)}}),f(Z,{size:"sm",get children(){return e("shares.extract_folder")}}),f(Nt,{size:"sm",get value(){return $.extract_folder},onChange:e=>{E("extract_folder",e)},get children(){return f(nr,{get options(){return[{key:Ir.Front,label:e("shares.extract_folders.front")},{key:Ir.Back,label:e("shares.extract_folders.back")}]}})}}),f(Z,{size:"sm",get children(){return e("shares.order_by")}}),f(Nt,{size:"sm",get value(){return $.order_by},onChange:e=>{E("order_by",e)},get children(){return f(nr,{get options(){return[{key:Or.Name,label:e("shares.order_bys.name")},{key:Or.Size,label:e("shares.order_bys.size")},{key:Or.Modified,label:e("shares.order_bys.modified")}]}})}}),f(Z,{size:"sm",get children(){return e("shares.order_direction")}}),f(Nt,{size:"sm",get value(){return $.order_direction},onChange:e=>{E("order_direction",e)},get children(){return f(nr,{get options(){return[{key:Br.Asc,label:e("shares.order_directions.asc")},{key:Br.Desc,label:e("shares.order_directions.desc")}]}})}}),f(Z,{size:"sm",get children(){return e("shares.pwd")}}),f(Ae,{spacing:"$1",w:"$full",get children(){return[f(F,{size:"sm",get value(){return $.pwd},onInput:e=>{E("pwd",e.currentTarget.value)}}),f(be,{colorScheme:"neutral",size:"sm","aria-label":"random",get icon(){return f(Fr,{})},onClick:()=>{E("pwd",Ar())}})]}}),f(Z,{size:"sm",get children(){return e("shares.max_accessed")}}),f(F,{type:"number",size:"sm",get value(){return $.max_accessed},onInput:e=>{E("max_accessed",parseInt(e.currentTarget.value))}}),f(Z,{size:"sm",get children(){return e("shares.expires")}}),f(F,{size:"sm",get invalid(){return!m()},get value(){return g()},onInput:e=>{if(h(e.currentTarget.value),""===e.currentTarget.value)return v(!0),void E("expires",null);const t=new Date(e.currentTarget.value);isNaN(t.getTime())?v(!1):(v(!0),E("expires",t.toISOString()))}}),f(Z,{size:"sm",get children(){return e("shares.readme")}}),f(k,{size:"sm",get value(){return $.readme},onInput:e=>{E("readme",e.currentTarget.value)}}),f(Z,{size:"sm",get children(){return e("shares.header")}}),f(k,{size:"sm",get value(){return $.header},onInput:e=>{E("header",e.currentTarget.value)}})]}})}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{colorScheme:"neutral",onClick:u,get children(){return e("global.cancel")}}),f(x,{colorScheme:"info",get disabled(){return!m()},get loading(){return D()},onClick:async()=>{const e=await M();Et(e,e=>{const t=Er(e,{site_title:B("site_title")}),n=or(B("share_summary_content"),t);r(n)})},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})},zo=Y(()=>re(()=>t.import("./Upload-legacy-Ci7i9I6t.js"),void 0)),Oo=()=>[f(Rn,{}),f(Nn,{}),f(Un,{}),f(Hn,{}),f(Do,{}),f(Pn,{}),f(qn,{}),f(Mo,{}),f(Gn,{}),f(Xn,{}),f(Qn,{}),f(Co,{}),f(jn,{}),f(xo,{name:"upload",title:"home.toolbar.upload",get children(){return f(zo,{})}}),f(Ao,{})],Bo=()=>f(lr,{get children(){return[f(Tn,{}),f(Ln,{}),f(Oo,{}),f(ar,{})]}});let Io=!1;const jo=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{ur(B("site_title"));const e=B("announcement");return pe(()=>{e&&!Io&&(c.render(()=>f(se,{children:e})),Io=!0)}),[f(An,{}),f(Bo,{}),f(Kr,{}),f(Xr,{})]}},Symbol.toStringTag,{value:"Module"}));e("L",jo)}}});
